import{s as q,v as H,w as tt,d as N,j as e,r as M,J,au as at,z as B,A as L,N as W,D as z,E as K,O as E,F as et,Q,f as st,g as ot,ag as rt,u as nt,q as it,a as lt,b as $,I as ct,T as U,G as F}from"./index-DNTeT-ng.js";import{F as _,A as dt}from"./FilterSidebar-dCt4gFoc.js";import{P as pt}from"./index-CHvuSyTQ.js";import{E as ut}from"./index-nXhF4U39.js";import{S as O}from"./Skeleton-CX9I-lyd.js";function gt(t){return q("MuiPagination",t)}H("MuiPagination",["root","ul","outlined","text"]);function xt(t={}){const{boundaryCount:a=1,componentName:s="usePagination",count:r=1,defaultPage:l=1,disabled:c=!1,hideNextButton:f=!1,hidePrevButton:p=!1,onChange:u,page:b,showFirstButton:P=!1,showLastButton:j=!1,siblingCount:y=1,...h}=t,[g,o]=tt({controlled:b,default:l,name:s,state:"page"}),C=(n,d)=>{b||o(d),u&&u(n,d)},x=(n,d)=>{const T=d-n+1;return Array.from({length:T},(D,A)=>n+A)},i=x(1,Math.min(a,r)),R=x(Math.max(r-a+1,a+1),r),m=Math.max(Math.min(g-y,r-a-y*2-1),a+2),S=Math.min(Math.max(g+y,a+y*2+2),r-a-1),I=[...P?["first"]:[],...p?[]:["previous"],...i,...m>a+2?["start-ellipsis"]:a+1<r-a?[a+1]:[],...x(m,S),...S<r-a-1?["end-ellipsis"]:r-a>a?[r-a]:[],...R,...f?[]:["next"],...j?["last"]:[]],w=n=>{switch(n){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return r;default:return null}};return{items:I.map(n=>typeof n=="number"?{onClick:d=>{C(d,n)},type:"page",page:n,selected:n===g,disabled:c,"aria-current":n===g?"page":void 0}:{onClick:d=>{C(d,w(n))},type:n,page:w(n),selected:!1,disabled:c||!n.includes("ellipsis")&&(n==="next"||n==="last"?g>=r:g<=1)}),...h}}function vt(t){return q("MuiPaginationItem",t)}const v=H("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),ft=N(e.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),yt=N(e.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),bt=N(e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Pt=N(e.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),X=(t,a)=>{const{ownerState:s}=t;return[a.root,a[s.variant],a[`size${z(s.size)}`],s.variant==="text"&&a[`text${z(s.color)}`],s.variant==="outlined"&&a[`outlined${z(s.color)}`],s.shape==="rounded"&&a.rounded,s.type==="page"&&a.page,(s.type==="start-ellipsis"||s.type==="end-ellipsis")&&a.ellipsis,(s.type==="previous"||s.type==="next")&&a.previousNext,(s.type==="first"||s.type==="last")&&a.firstLast]},ht=t=>{const{classes:a,color:s,disabled:r,selected:l,size:c,shape:f,type:p,variant:u}=t,b={root:["root",`size${z(c)}`,u,f,s!=="standard"&&`color${z(s)}`,s!=="standard"&&`${u}${z(s)}`,r&&"disabled",l&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[p]],icon:["icon"]};return K(b,vt,a)},Ct=L("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:X})(E(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${v.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),St=L(et,{name:"MuiPaginationItem",slot:"Root",overridesResolver:X})(E(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${v.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${v.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${v.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${v.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${v.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${v.selected}`]:{[`&.${v.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${v.selected}`]:{[`&.${v.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(Q(["dark","contrastText"])).map(([a])=>({props:{variant:"text",color:a},style:{[`&.${v.selected}`]:{color:(t.vars||t).palette[a].contrastText,backgroundColor:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:(t.vars||t).palette[a].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a].main}},[`&.${v.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a].dark},[`&.${v.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(Q(["light"])).map(([a])=>({props:{variant:"outlined",color:a},style:{[`&.${v.selected}`]:{color:(t.vars||t).palette[a].main,border:`1px solid ${t.alpha((t.vars||t).palette[a].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[a].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${v.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),jt=L("div",{name:"MuiPaginationItem",slot:"Icon"})(E(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),Y=M.forwardRef(function(a,s){const r=J({props:a,name:"MuiPaginationItem"}),{className:l,color:c="standard",component:f,components:p={},disabled:u=!1,page:b,selected:P=!1,shape:j="circular",size:y="medium",slots:h={},slotProps:g={},type:o="page",variant:C="text",...x}=r,i={...r,color:c,disabled:u,selected:P,shape:j,size:y,type:o,variant:C},R=at(),m=ht(i),S={slots:{previous:h.previous??p.previous,next:h.next??p.next,first:h.first??p.first,last:h.last??p.last},slotProps:g},[I,w]=B("previous",{elementType:bt,externalForwardedProps:S,ownerState:i}),[k,n]=B("next",{elementType:Pt,externalForwardedProps:S,ownerState:i}),[d,T]=B("first",{elementType:ft,externalForwardedProps:S,ownerState:i}),[D,A]=B("last",{elementType:yt,externalForwardedProps:S,ownerState:i}),V=R?{previous:"next",next:"previous",first:"last",last:"first"}[o]:o,G={previous:I,next:k,first:d,last:D}[V],Z={previous:w,next:n,first:T,last:A}[V];return o==="start-ellipsis"||o==="end-ellipsis"?e.jsx(Ct,{ref:s,ownerState:i,className:W(m.root,l),children:"â€¦"}):e.jsxs(St,{ref:s,ownerState:i,component:f,disabled:u,className:W(m.root,l),...x,children:[o==="page"&&b,G?e.jsx(jt,{...Z,className:m.icon,as:G}):null]})}),mt=t=>{const{classes:a,variant:s}=t;return K({root:["root",s],ul:["ul"]},gt,a)},$t=L("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,a[s.variant]]}})({}),wt=L("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function kt(t,a,s){return t==="page"?`${s?"":"Go to "}page ${a}`:`Go to ${t} page`}const zt=M.forwardRef(function(a,s){const r=J({props:a,name:"MuiPagination"}),{boundaryCount:l=1,className:c,color:f="standard",count:p=1,defaultPage:u=1,disabled:b=!1,getItemAriaLabel:P=kt,hideNextButton:j=!1,hidePrevButton:y=!1,onChange:h,page:g,renderItem:o=d=>e.jsx(Y,{...d}),shape:C="circular",showFirstButton:x=!1,showLastButton:i=!1,siblingCount:R=1,size:m="medium",variant:S="text",...I}=r,{items:w}=xt({...r,componentName:"Pagination"}),k={...r,boundaryCount:l,color:f,count:p,defaultPage:u,disabled:b,getItemAriaLabel:P,hideNextButton:j,hidePrevButton:y,renderItem:o,shape:C,showFirstButton:x,showLastButton:i,siblingCount:R,size:m,variant:S},n=mt(k);return e.jsx($t,{"aria-label":"pagination navigation",className:W(n.root,c),ownerState:k,ref:s,...I,children:e.jsx(wt,{className:n.ul,ownerState:k,children:w.map((d,T)=>e.jsx("li",{children:o({...d,color:f,"aria-label":P(d.type,d.page,d.selected),shape:C,size:m,variant:S})},T))})})}),Rt=N([e.jsx("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),e.jsx("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89s-2.13.33-2.99.88c.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52"},"2")]),It=(t=8)=>{const a=st(),s=ot(),r=new URLSearchParams(s.search),l=r.get("categorySlug")||r.get("category")||void 0,c=r.get("filter"),[f,p]=M.useState(1),{data:u=[],isLoading:b,isError:P,refetch:j}=rt(f,t,l),y=M.useMemo(()=>{let x=u;return c==="discount"&&(x=x.filter(i=>i.discount)),x},[u,c]),h=Math.ceil((y?.length||0)/t),g=(x,i)=>{p(i),window.scrollTo({top:0,behavior:"smooth"})},o=x=>{const i=new URLSearchParams(s.search);x?i.set("categorySlug",x):i.delete("categorySlug"),c==="discount"&&i.set("filter","discount"),a(`/products?${i.toString()}`),p(1)},C=c==="discount"&&l?`Discounted ${l.charAt(0).toUpperCase()+l.slice(1)}`:c==="discount"?"Discounted Products":l?l.charAt(0).toUpperCase()+l.slice(1):"All Products";return{products:y,isLoading:b,isError:P,refetch:j,page:f,pageCount:h,handlePageChange:g,handleCategorySelect:o,pageTitle:C}},Ft=()=>{const{theme:t}=nt(),a=it(),s=lt(a.breakpoints.down("sm")),[r,l]=M.useState(!1),{products:c,isLoading:f,isError:p,refetch:u,page:b,pageCount:P,handlePageChange:j,handleCategorySelect:y,pageTitle:h}=It(),g=Array.from({length:8},(o,C)=>C);return e.jsxs($,{sx:{display:"flex",px:{xs:2,md:4},py:6,bgcolor:t.primary1},children:[!s&&e.jsx($,{sx:{width:250,mr:3},children:e.jsx(_,{onCategorySelect:y})}),e.jsxs($,{sx:{flex:1,maxWidth:1200,mx:"auto"},children:[s&&e.jsx(_,{onCategorySelect:y,open:r,setOpen:l}),e.jsxs($,{display:"flex",alignItems:"center",mb:4,children:[e.jsx(ct,{onClick:()=>window.history.back(),sx:{ml:6,mr:2,bgcolor:t.primary1,color:t.Text1,"&:hover":{bgcolor:t.Button2}},children:e.jsx(dt,{})}),e.jsx(U,{variant:s?"h6":"h5",sx:{fontWeight:700,color:t.Text1},children:h})]}),f&&e.jsx(F,{container:!0,spacing:6,justifyContent:"center",children:g.map(o=>e.jsx(F,{children:e.jsxs($,{sx:{width:200,bgcolor:"background.paper",borderRadius:2,p:1,boxShadow:"0px 2px 10px rgba(0,0,0,0.05)"},children:[e.jsx(O,{variant:"rectangular",height:140,sx:{borderRadius:1}}),e.jsx(O,{variant:"text",width:"80%",height:25,sx:{mt:1}}),e.jsx(O,{variant:"text",width:"50%",height:20}),e.jsx(O,{variant:"text",width:"60%",height:20})]})},o))}),p&&e.jsx(ut,{title:"Failed to load products",description:"Try again.",onRetry:u}),!f&&!p&&e.jsxs(e.Fragment,{children:[c.length===0?e.jsxs($,{sx:{textAlign:"center",mt:6,p:4,borderRadius:4,bgcolor:t.primary1},children:[e.jsx(Rt,{sx:{fontSize:60,color:t.Button2,mb:2}}),e.jsx(U,{variant:"h6",sx:{fontWeight:600,color:t.Text1,mb:1},children:"No Products Found"}),e.jsx(U,{sx:{color:t.Text2,fontSize:14},children:"Try adjusting your filters or selecting another category."})]}):e.jsx(F,{container:!0,spacing:3,justifyContent:"center",children:c.map(o=>e.jsx(F,{sx:{display:"flex",justifyContent:"center"},children:e.jsx(pt,{id:o.id,name:o.title,price:`$${Number(o.price).toFixed(2)}`,oldPrice:o.oldPrice!==void 0?`$${Number(o.oldPrice).toFixed(2)}`:void 0,discount:o.discount,rating:o.rating,img:o.images[0],isNew:o.isNew})},o.id))}),P>0&&e.jsx($,{display:"flex",justifyContent:"center",mt:6,sx:{flexWrap:"wrap",gap:1},children:e.jsx(zt,{count:P,page:b,onChange:j,renderItem:o=>e.jsx(Y,{...o,sx:{fontSize:s?16:20,fontWeight:500,color:o.selected?"white":t.Text1,borderRadius:1,px:2,py:1,border:"1px solid",borderColor:o.selected?t.Button2:t.Text1,bgcolor:o.selected?`${t.Button2} !important`:"transparent",transition:"all 0.3s","&:hover":{bgcolor:t.Button2,color:"white",borderColor:t.Button2}}})})})]})]})]})};export{Ft as default};
