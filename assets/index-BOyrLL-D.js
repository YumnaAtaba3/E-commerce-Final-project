import{u as v,r as P,j as t,A as a,o as A,ai as M,b as x,I as k,aj as L,q as z,a as E,f as W,g as q,y as w,n as C,m as H,e as $,L as V,c as N,T as h,B as T}from"./index-C26UC2NI.js";import{o as R,c as U,u as Z}from"./close-eye-4k7BANcC.js";import{c as G,a as d,u as _,o as D}from"./index.esm-BbQ4q6Q5.js";const O="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1703_3313)'%3e%3cpath%20d='M23.766%2012.7764C23.766%2011.9607%2023.6999%2011.1406%2023.5588%2010.3381H12.24V14.9591H18.7217C18.4528%2016.4494%2017.5885%2017.7678%2016.323%2018.6056V21.6039H20.19C22.4608%2019.5139%2023.766%2016.4274%2023.766%2012.7764Z'%20fill='%234285F4'/%3e%3cpath%20d='M12.2401%2024.5008C15.4766%2024.5008%2018.2059%2023.4382%2020.1945%2021.6039L16.3276%2018.6055C15.2517%2019.3375%2013.8627%2019.752%2012.2445%2019.752C9.11388%2019.752%206.45946%2017.6399%205.50705%2014.8003H1.5166V17.8912C3.55371%2021.9434%207.7029%2024.5008%2012.2401%2024.5008Z'%20fill='%2334A853'/%3e%3cpath%20d='M5.50253%2014.8003C4.99987%2013.3099%204.99987%2011.6961%205.50253%2010.2057V7.11481H1.51649C-0.18551%2010.5056%20-0.18551%2014.5004%201.51649%2017.8912L5.50253%2014.8003Z'%20fill='%23FBBC04'/%3e%3cpath%20d='M12.2401%205.24966C13.9509%205.2232%2015.6044%205.86697%2016.8434%207.04867L20.2695%203.62262C18.1001%201.5855%2015.2208%200.465534%2012.2401%200.500809C7.7029%200.500809%203.55371%203.05822%201.5166%207.11481L5.50264%2010.2058C6.45064%207.36173%209.10947%205.24966%2012.2401%205.24966Z'%20fill='%23EA4335'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1703_3313'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(0%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Q=a(x)(()=>({display:"flex",flexDirection:"column",gap:24})),J=a(k)(()=>({padding:0,transition:"all 0.3s ease","& img":{width:26,height:20,transition:"transform 0.3s ease"},"&:hover img":{transform:"scale(1.1)"}})),K=({inputFont:e,labelFont:m,register:s,errors:i})=>{const{theme:o}=v(),[l,c]=P.useState(!1),u=[{name:"name",label:"Name"},{name:"email",label:"Email or Phone Number"},{name:"password",label:"Password",type:"password"}];return t.jsx(Q,{children:u.map(n=>{const r=n.name==="password";return t.jsx(A,{autoComplete:"new-password",label:n.label,type:r&&l?"text":n.type||"text",variant:"standard",fullWidth:!0,...s(n.name),error:!!i[n.name],helperText:i[n.name]?.message,InputProps:{endAdornment:r&&t.jsx(M,{position:"end",children:t.jsx(J,{onClick:()=>c(p=>!p),children:t.jsx("img",{src:l?R:U,alt:"toggle visibility"})})})},InputLabelProps:{sx:{fontSize:m,fontFamily:"'Inter', sans-serif",color:o.disabledText,"&.Mui-focused":{color:o.Text1}}},inputProps:{style:{fontSize:e,fontFamily:"'Inter', sans-serif",color:o.Text1},autoComplete:"new-password"},sx:{"& .MuiFormHelperText-root":{color:o.Button2,fontSize:10},"& .MuiInput-underline:before":{borderBottomColor:o.disabledText},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:o.Text1},"& .MuiInput-underline:after":{borderBottomColor:o.Text1},"& input:-webkit-autofill":{WebkitBoxShadow:`0 0 0 1000px ${o.primary1} inset`,WebkitTextFillColor:o.Text1,transition:"background-color 5000s ease-in-out 0s"}}},n.name)})})},X=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Y=/^[0-9]{10,15}$/,ee=/^[A-Za-z0-9]+$/,te=G().shape({name:d().required("Name is required").min(2,"Name must be at least 2 characters"),email:d().trim().required("Email or phone number is required").test("is-valid-contact","Enter a valid email or phone number",e=>e?X.test(e)||Y.test(e):!1),password:d().required("Password is required").matches(ee,"Password must contain only letters and numbers").min(8,"Password must be at least 8 characters long"),avatar:d().required("Avatar is required").url("Avatar must be a valid URL")});function oe(){return Z({mutationFn:async e=>await L.signUp(e)})}const se=a(x)({maxWidth:370,width:"100%"}),ne=a(h)({fontFamily:"'Inter', sans-serif",fontWeight:600}),ae=a(h)({fontFamily:"'Inter', sans-serif",fontWeight:400,marginBottom:"32px"}),re=a(T)({marginTop:"24px",fontFamily:"'Inter', sans-serif",fontWeight:500,textTransform:"none",padding:"10px 0"}),ie=a(T)({marginTop:"16px",textTransform:"none",fontFamily:"'Inter', sans-serif",fontWeight:500,padding:"10px 0"}),le=a(h)({marginTop:"16px",fontFamily:"'Inter', sans-serif",textAlign:"center"}),ue=()=>{const{theme:e}=v(),m=z(),s=E(m.breakpoints.down("sm")),i=W(),l=q().state,{register:c,handleSubmit:u,formState:{errors:n}}=_({resolver:D(te),defaultValues:{name:"",email:"",password:"",avatar:"https://example.com/default-avatar.png"}}),{isPending:r}=oe(),p=u(async b=>{try{w.success("Account created successfully!",{autoClose:2e3}),i(C.auth.login,{state:{from:l?.from,email:b.email,password:b.password}})}catch(y){console.error("Sign-up error:",y),w.error(y.message||"Sign-up failed. Please try again.",{autoClose:4e3})}}),F=s?"24px":"32px",S=s?"14px":"16px",j=s?"14px":"16px",B=s?"12px":"14px",f=s?"14px":"16px",g=s?"12px":"14px",I={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:.8,ease:$}}};return t.jsx(H.div,{initial:"hidden",animate:"visible",variants:I,children:t.jsxs(se,{sx:{mx:s?5:0},children:[t.jsx(ne,{sx:{fontSize:F,color:e.Text1},children:"Create an account"}),t.jsx(ae,{sx:{fontSize:S,color:e.Text1},children:"Enter your details below"}),t.jsxs("form",{onSubmit:p,children:[t.jsx(K,{inputFont:j,labelFont:B,register:c,errors:n}),t.jsx("input",{type:"hidden",...c("avatar")}),t.jsx(re,{fullWidth:!0,sx:{fontSize:f,backgroundColor:e.Button2,color:"#fff","&:hover":{backgroundColor:e.error}},type:"submit",disabled:r,children:r?"Creating...":"Create Account"})]}),t.jsx(ie,{fullWidth:!0,variant:"outlined",startIcon:t.jsx(x,{component:"img",src:O,alt:"Google",sx:{width:20,height:20}}),sx:{fontSize:f,color:e.secondaryText,borderColor:e.borderColor,"&:hover":{borderColor:e.primaryText}},children:"Sign up with Google"}),t.jsxs(le,{sx:{fontSize:g,color:e.secondaryText},children:["Already have an account?",t.jsx(V,{component:N,to:C.auth.login,underline:"hover",sx:{ml:1,fontFamily:"'Inter', sans-serif",fontSize:g,color:e.primaryText},children:"Log in"})]})]})})};export{ue as default};
