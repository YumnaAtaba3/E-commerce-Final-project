import{u as v,r as A,j as t,A as a,o as M,ai as k,d as f,I as L,aj as z,q as E,a as W,b as q,h as H,y as w,c as C,m as $,f as V,L as N,e as U,T as g,B as T}from"./index-yg-CUulA.js";import{o as R,c as Z,u as G}from"./close-eye-DM9ZeEvI.js";import{c as _,a as u,u as D,o as O}from"./index.esm-v2lSe7qg.js";const Q="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1703_3313)'%3e%3cpath%20d='M23.766%2012.7764C23.766%2011.9607%2023.6999%2011.1406%2023.5588%2010.3381H12.24V14.9591H18.7217C18.4528%2016.4494%2017.5885%2017.7678%2016.323%2018.6056V21.6039H20.19C22.4608%2019.5139%2023.766%2016.4274%2023.766%2012.7764Z'%20fill='%234285F4'/%3e%3cpath%20d='M12.2401%2024.5008C15.4766%2024.5008%2018.2059%2023.4382%2020.1945%2021.6039L16.3276%2018.6055C15.2517%2019.3375%2013.8627%2019.752%2012.2445%2019.752C9.11388%2019.752%206.45946%2017.6399%205.50705%2014.8003H1.5166V17.8912C3.55371%2021.9434%207.7029%2024.5008%2012.2401%2024.5008Z'%20fill='%2334A853'/%3e%3cpath%20d='M5.50253%2014.8003C4.99987%2013.3099%204.99987%2011.6961%205.50253%2010.2057V7.11481H1.51649C-0.18551%2010.5056%20-0.18551%2014.5004%201.51649%2017.8912L5.50253%2014.8003Z'%20fill='%23FBBC04'/%3e%3cpath%20d='M12.2401%205.24966C13.9509%205.2232%2015.6044%205.86697%2016.8434%207.04867L20.2695%203.62262C18.1001%201.5855%2015.2208%200.465534%2012.2401%200.500809C7.7029%200.500809%203.55371%203.05822%201.5166%207.11481L5.50264%2010.2058C6.45064%207.36173%209.10947%205.24966%2012.2401%205.24966Z'%20fill='%23EA4335'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1703_3313'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(0%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",J=a(f)(()=>({display:"flex",flexDirection:"column",gap:24})),K=a(L)(()=>({padding:0,transition:"all 0.3s ease","& img":{width:26,height:20,transition:"transform 0.3s ease"},"&:hover img":{transform:"scale(1.1)"}})),X=({inputFont:e,labelFont:p,register:s,errors:r})=>{const{theme:o}=v(),[i,l]=A.useState(!1),x=[{name:"name",label:"Name"},{name:"email",label:"Email or Phone Number"},{name:"password",label:"Password",type:"password"}];return t.jsx(J,{children:x.map(n=>{const c=n.name==="password";return t.jsx(M,{autoComplete:"new-password",label:n.label,type:c&&i?"text":n.type||"text",variant:"standard",fullWidth:!0,...s(n.name),error:!!r[n.name],helperText:r[n.name]?.message,InputProps:{endAdornment:c&&t.jsx(k,{position:"end",children:t.jsx(K,{onClick:()=>l(d=>!d),children:t.jsx("img",{src:i?R:Z,alt:"toggle visibility"})})})},InputLabelProps:{sx:{fontSize:p,fontFamily:"'Inter', sans-serif",color:o.disabledText,"&.Mui-focused":{color:o.Text1}}},inputProps:{style:{fontSize:e,fontFamily:"'Inter', sans-serif",color:o.Text1},autoComplete:"new-password"},sx:{"& .MuiFormHelperText-root":{color:o.Button2,fontSize:10},"& .MuiInput-underline:before":{borderBottomColor:o.disabledText},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:o.Text1},"& .MuiInput-underline:after":{borderBottomColor:o.Text1},"& input:-webkit-autofill":{WebkitBoxShadow:`0 0 0 1000px ${o.primary1} inset`,WebkitTextFillColor:o.Text1,transition:"background-color 5000s ease-in-out 0s"}}},n.name)})})},Y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,ee=/^[0-9]{10,15}$/,te=/^[A-Za-z0-9]+$/,oe=_().shape({name:u().required("Name is required").min(2,"Name must be at least 2 characters"),email:u().trim().required("Email or phone number is required").test("is-valid-contact","Enter a valid email or phone number",e=>e?Y.test(e)||ee.test(e):!1),password:u().required("Password is required").matches(te,"Password must contain only letters and numbers").min(8,"Password must be at least 8 characters long"),avatar:u().required("Avatar is required").url("Avatar must be a valid URL")});function se(){return G({mutationFn:async e=>await z.signUp(e)})}const ne=a(f)({maxWidth:370,width:"100%"}),ae=a(g)({fontFamily:"'Inter', sans-serif",fontWeight:600}),re=a(g)({fontFamily:"'Inter', sans-serif",fontWeight:400,marginBottom:"32px"}),ie=a(T)({marginTop:"24px",fontFamily:"'Inter', sans-serif",fontWeight:500,textTransform:"none",padding:"10px 0"}),le=a(T)({marginTop:"16px",textTransform:"none",fontFamily:"'Inter', sans-serif",fontWeight:500,padding:"10px 0"}),ce=a(g)({marginTop:"16px",fontFamily:"'Inter', sans-serif",textAlign:"center"}),pe=()=>{const{theme:e}=v(),p=E(),s=W(p.breakpoints.down("sm")),r=q(),i=H().state,{register:l,handleSubmit:x,formState:{errors:n}}=D({resolver:O(oe),defaultValues:{name:"",email:"",password:"",avatar:"https://example.com/default-avatar.png"}}),{mutateAsync:c,isPending:d}=se(),F=x(async h=>{try{const m=await c(h);console.log("user"+m.id),w.success("Account created successfully!",{autoClose:2e3}),r(C.auth.login,{state:{from:i?.from,email:h.email,password:h.password}})}catch(m){console.error("Sign-up error:",m),w.error(m.message||"Sign-up failed. Please try again.",{autoClose:4e3})}}),S=s?"24px":"32px",j=s?"14px":"16px",B=s?"14px":"16px",I=s?"12px":"14px",b=s?"14px":"16px",y=s?"12px":"14px",P={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:.8,ease:V}}};return t.jsx($.div,{initial:"hidden",animate:"visible",variants:P,children:t.jsxs(ne,{sx:{mx:s?5:0},children:[t.jsx(ae,{sx:{fontSize:S,color:e.Text1},children:"Create an account"}),t.jsx(re,{sx:{fontSize:j,color:e.Text1},children:"Enter your details below"}),t.jsxs("form",{onSubmit:F,children:[t.jsx(X,{inputFont:B,labelFont:I,register:l,errors:n}),t.jsx("input",{type:"hidden",...l("avatar")}),t.jsx(ie,{fullWidth:!0,sx:{fontSize:b,backgroundColor:e.Button2,color:"#fff","&:hover":{backgroundColor:e.error}},type:"submit",disabled:d,children:d?"Creating...":"Create Account"})]}),t.jsx(le,{fullWidth:!0,variant:"outlined",startIcon:t.jsx(f,{component:"img",src:Q,alt:"Google",sx:{width:20,height:20}}),sx:{fontSize:b,color:e.secondaryText,borderColor:e.borderColor,"&:hover":{borderColor:e.primaryText}},children:"Sign up with Google"}),t.jsxs(ce,{sx:{fontSize:y,color:e.secondaryText},children:["Already have an account?",t.jsx(N,{component:U,to:C.auth.login,underline:"hover",sx:{ml:1,fontFamily:"'Inter', sans-serif",fontSize:y,color:e.primaryText},children:"Log in"})]})]})})};export{pe as default};
