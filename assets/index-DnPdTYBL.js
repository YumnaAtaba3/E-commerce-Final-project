import{f as k,j as e,u as A,aH as C,p as z,r as y,aA as R,m as x,C as F,c as r,I as P,aK as E,B as T,aL as D,T as g,g as H,ag as N,b as V,q as L,a as W,G as v}from"./index-blSJw7uD.js";import{P as M}from"./index-DSqFdSsU.js";import{S}from"./Skeleton-C6BKJ3cK.js";import{S as $,a as Y}from"./swiper-Cn4SoWrq.js";import{N as X}from"./navigation-IALWvr8k.js";import{E as G}from"./index-DOkhVr9D.js";const O=k(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"})),Q=({id:t,name:l,price:s,oldPrice:n,discount:c,images:h,onDelete:d,onFlyToCart:u})=>{const{theme:p}=A(),f=C(a=>a.removeFromWishlist),w=z(a=>a.addToCart),m=y.useRef(null),[b,o]=y.useState(!1),j=()=>{o(!0),setTimeout(()=>{f(t),d&&d(t)},600)},i=()=>{const a={id:t,title:l,price:typeof s=="string"?Number(s):s,oldPrice:n?typeof n=="string"?Number(n):n:void 0,discount:c,images:h};if(w(a,1),f(t),d&&d(t),u&&m.current){const I=m.current.getBoundingClientRect();u(h[0],I)}};return e.jsx(R,{children:!b&&e.jsx(x.div,{initial:{opacity:0,y:20,rotateX:0},animate:{opacity:1,y:0,rotateX:0},exit:{opacity:0,y:50,rotateX:90,scale:.3,transition:{duration:.6,ease:"easeIn"}},children:e.jsxs(F,{sx:{width:280,borderRadius:2,boxShadow:"none",border:"1px solid #eee",overflow:"hidden",position:"relative",bgcolor:"#fff",perspective:800},children:[c&&e.jsx(r,{sx:{position:"absolute",top:15,left:15,bgcolor:p.Button2,color:"#fff",px:1.2,py:.3,borderRadius:1,fontSize:14,zIndex:2},children:c}),e.jsx(r,{sx:{position:"absolute",top:10,right:10,zIndex:2},children:e.jsx(x.div,{whileHover:{scale:1.3,rotate:15},whileTap:{scale:.9,rotate:-15},children:e.jsx(P,{onClick:j,sx:{bgcolor:"white","&:hover":{bgcolor:p.Button2,color:"white"},width:42,height:42,color:"black"},children:e.jsx(O,{fontSize:"medium"})})})}),e.jsx(r,{sx:{bgcolor:"#f5f5f5",p:2,textAlign:"center"},children:e.jsx(E,{ref:m,component:"img",height:"180",image:h?.[0]||"/placeholder.png",alt:l,sx:{objectFit:"contain",mx:"auto"}})}),e.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:e.jsx(T,{fullWidth:!0,onClick:i,sx:{bgcolor:"black",color:"white",fontSize:16,fontWeight:500,borderRadius:0,"&:hover":{bgcolor:"#222"}},startIcon:e.jsx(D,{}),children:"Add To Bag"})}),e.jsxs(r,{sx:{p:2},children:[e.jsx(g,{sx:{fontSize:16,fontWeight:600,mb:1},noWrap:!0,children:l}),e.jsxs(r,{display:"flex",alignItems:"center",gap:1,children:[e.jsxs(g,{sx:{fontSize:16,color:p.Button2,fontWeight:600},children:["$",typeof s=="number"?s.toFixed(2):s]}),n&&e.jsxs(g,{sx:{fontSize:14,color:"gray",textDecoration:"line-through"},children:["$",typeof n=="number"?n.toFixed(2):n]})]})]})]})})})},B=()=>e.jsxs(r,{sx:{width:200,bgcolor:"background.paper",borderRadius:2,p:1,boxShadow:"0px 2px 10px rgba(0,0,0,0.05)"},children:[e.jsx(S,{variant:"rectangular",height:140,sx:{borderRadius:1}}),e.jsx(S,{variant:"text",width:"80%",height:25,sx:{mt:1}}),e.jsx(S,{variant:"text",width:"50%",height:20}),e.jsx(S,{variant:"text",width:"60%",height:20})]});function _(){const t=H(),l=C(o=>o.wishlist),s=C(o=>o.removeFromWishlist),n=C(o=>o.clearWishlist),c=z(o=>o.addToCart),{data:h=[],isLoading:d,isError:u,refetch:p}=N(),f=y.useMemo(()=>h.slice(0,8),[h]);return{wishlist:l,justForYou:f,isLoading:d,isError:u,refetch:p,handleDelete:o=>s(o),handleViewAll:()=>t(V.products.list),moveAllToBag:()=>{l.forEach(o=>{const j={id:o.id,title:o.title,price:o.price,oldPrice:o.oldPrice,discount:o.discount,images:o.images};c(j,1)}),n()}}}const q=({count:t,color:l="inherit",fontSize:s=18})=>{const[,n]=y.useState(t);return y.useEffect(()=>{n(t)},[t]),e.jsx(r,{sx:{display:"inline-block",position:"relative",minWidth:10},children:e.jsx(R,{mode:"popLayout",children:e.jsx(x.span,{initial:{scale:0},animate:{scale:1.2},exit:{scale:0},transition:{type:"spring",stiffness:300,damping:15},style:{display:"inline-block",color:l,fontWeight:600,fontSize:s},children:t},t)})})},ie=()=>{const{theme:t}=A(),l=L(),s=W(l.breakpoints.down("sm")),n=W(l.breakpoints.between("sm","md")),{wishlist:c,justForYou:h,isLoading:d,isError:u,refetch:p,handleDelete:f,handleViewAll:w,moveAllToBag:m}=_(),b={borderColor:t.Text1,color:t.Text1,bgcolor:t.primary1,px:s?2:n?3:5,py:s?.8:1.2,borderRadius:0,fontSize:s?12:n?13:14,fontWeight:500,textTransform:"none",boxShadow:"none",transition:"0.2s","&:hover":{bgcolor:t.Button2,color:"white",borderColor:t.Button2,transform:"scale(1.05)"}},o=s?18:n?22:24,j={hiddenLeft:{opacity:0,x:-50},hiddenRight:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:120}}};return e.jsx(r,{sx:{px:{xs:2,md:4},py:4,bgcolor:t.primary1,display:"flex",justifyContent:"center"},children:e.jsxs(r,{sx:{width:"100%",maxWidth:1200},children:[e.jsxs(r,{display:"flex",flexDirection:s?"column":"row",justifyContent:"space-between",alignItems:s?"flex-start":"center",mb:3,gap:s?2:0,children:[e.jsxs(g,{variant:"h5",sx:{fontWeight:300,color:t.Text1,fontSize:o,display:"flex",alignItems:"center",gap:1},children:["Wishlist (",e.jsx(q,{count:c.length,color:t.Button2,fontSize:o}),")"]}),c.length>0&&e.jsx(x.div,{whileHover:{scale:1.05},children:e.jsx(T,{variant:"outlined",sx:b,onClick:m,children:"Move All To Bag"})})]}),c.length>0?e.jsx(v,{container:!0,spacing:s?2:3,mb:6,justifyContent:s?"center":"flex-start",children:d?Array.from({length:4}).map((i,a)=>e.jsx(v,{children:e.jsx(B,{})},a)):c.map((i,a)=>e.jsx(v,{children:e.jsx(x.div,{initial:a%2===0?"hiddenLeft":"hiddenRight",animate:"visible",variants:j,children:e.jsx(Q,{id:i.id,name:i.title||"Unnamed Product",price:i.price,oldPrice:i.oldPrice,discount:i.discount,images:i.images?.length?i.images:[i.img||"/placeholder.png"],onDelete:f})})},i.id))}):e.jsxs(r,{sx:{textAlign:"center",py:6,color:t.Text1},children:[e.jsx(g,{variant:"h6",sx:{fontWeight:400,fontSize:18},children:"Your wishlist is empty ðŸ›’"}),e.jsx(g,{variant:"body2",sx:{mt:1,color:t.secound1},children:"Start adding items you love!"})]}),e.jsxs(r,{children:[e.jsxs(r,{display:"flex",flexDirection:s?"column":"row",justifyContent:"space-between",alignItems:s?"flex-start":"center",mb:2,gap:s?1:0,children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"row",gap:2},children:[e.jsx(r,{sx:{width:20,height:40,bgcolor:t.Button2,borderRadius:1}}),e.jsx(g,{variant:"h5",sx:{fontWeight:300,color:t.Text1,fontSize:o},children:"Just For You"})]}),e.jsx(x.div,{whileHover:{scale:1.05},children:e.jsx(T,{variant:"outlined",sx:b,onClick:w,children:"View All"})})]}),d?e.jsx(v,{container:!0,spacing:2,children:Array.from({length:4}).map((i,a)=>e.jsx(v,{children:e.jsx(B,{})},a))}):u?e.jsx(G,{title:"Failed to load products.",description:"Try again.",onRetry:p}):e.jsx($,{spaceBetween:10,slidesPerView:s?1.1:4.1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},modules:[X],children:h.map((i,a)=>e.jsx(Y,{children:e.jsx(x.div,{initial:a%2===0?"hiddenLeft":"hiddenRight",animate:"visible",variants:j,transition:{duration:.5,delay:a*.15},children:e.jsx(M,{id:i.id,name:i.title,price:`$${Number(i.price).toFixed(2)}`,oldPrice:i.oldPrice?`${typeof i.oldPrice=="number"?i.oldPrice.toFixed(2):i.oldPrice}`:void 0,discount:i.discount,rating:i.rating,img:i.images?.[0]||"/placeholder.png",isNew:i.isNew})})},i.id))})]})]})})};export{ie as default};
