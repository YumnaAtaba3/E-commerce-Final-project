import{$ as i,a0 as l,r as t,y as n}from"./index-C26UC2NI.js";const f=i()(l(o=>({couponCode:"",discountPercent:0,setCoupon:(s,a)=>o({couponCode:s,discountPercent:a}),clearCoupon:()=>o({couponCode:"",discountPercent:0})}),{name:"coupon-storage"})),m=o=>{const{couponCode:s,discountPercent:a,setCoupon:r}=f(),[p,d]=t.useState(s||""),[c,C]=t.useState(!!s);return t.useEffect(()=>{s&&o(a)},[s,a,o]),{couponCode:p,setCouponCode:d,isCouponApplied:c,handleApplyCoupon:()=>{if(c){n.info("Coupon already applied!",{className:"toast-info"});return}const u=p.trim().toUpperCase();let e=0;switch(u){case"SAVE10":e=10;break;case"SAVE20":e=20;break;case"SAVE30":e=30;break;case"SAVE50":e=50;break;default:n.error("Invalid coupon code",{className:"toast-error"}),o(0);return}o(e),r(u,e),C(!0),n.success(`Coupon applied! ${e}% off`,{className:"toast-success"})}}};export{f as a,m as u};
