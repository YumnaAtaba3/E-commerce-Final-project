const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DtIs4QFI.js","assets/vendor-CdHw5nIJ.js","assets/vendor-BjalUfyI.css","assets/Icon-secure-v0bKoxTE.js","assets/index-Cg0YiNPL.js","assets/useCoupon-D5cgzZZk.js","assets/index-TjPcujWM.js","assets/index-bgQxdZZo.js","assets/index-Cm_apuc3.js","assets/FilterSidebar-ClzW8COP.js","assets/index-DP7BM3CW.js","assets/index-D-8CKQyp.js","assets/close-eye-niJY9Yok.js","assets/index-ClISB9y1.js","assets/index-BHdaNdEL.js","assets/index-BUne5pNC.js","assets/index-B3Q_-O71.js","assets/index-C7m7eWDj.js","assets/index-B0fvL0Ng.js"])))=>i.map(i=>d[i]);
import{r as l,j as e,u as D,a as E,B as c,G as A,T as b,b as ce,I as K,c as w,L as R,d as Y,p as Fe,e as Pe,A as Z,y as k,f as q,D as Ae,m as f,g as _,h as z,i as de,k as ue,l as Le,n as he,o as Te,q as ee,s as N,t as Ee,v as Re,w as ze,x as Oe,S as De,C as We,z as _e,E as xe,F as te,H as pe,J as me,P as Me,K as G,M as ge,N as $e,O as He,Q as Ve,R as Ne,U as qe,V as Ue,W as X,X as Qe,Y as Ke,Z as Ze,_ as fe,$ as Ge,a0 as Ye,a1 as Xe,a2 as ye,a3 as oe,a4 as Je,a5 as be,a6 as et,a7 as tt,a8 as ot,a9 as st,aa as nt,ab as rt,ac as it,ad as at,ae as lt,af as ct,ag as dt,ah as ut,ai as ht,aj as xt,ak as pt}from"./vendor-CdHw5nIJ.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const mt="modulepreload",gt=function(t){return"/e-commerce-final-project/"+t},se={},B=function(o,s,n){let r=Promise.resolve();if(s&&s.length>0){let x=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=a?.nonce||a?.getAttribute("nonce");r=x(s.map(h=>{if(h=gt(h),h in se)return;se[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":mt,m||(u.as="script"),u.crossOrigin="",u.href=h,d&&u.setAttribute("nonce",d),document.head.appendChild(u),m)return new Promise((I,F)=>{u.addEventListener("load",I),u.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return r.then(a=>{for(const d of a||[])d.status==="rejected"&&i(d.reason);return o().catch(i)})},ft="/e-commerce-final-project/assets/Qr%20Code-zTAuLh-t.svg",yt="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.912%2012H4L2.023%204.13499C2.01034%204.08928%202.00263%204.04234%202%203.99499C1.978%203.27399%202.772%202.77399%203.46%203.10399L22%2012L3.46%2020.896C2.78%2021.223%201.996%2020.737%202%2020.029C2.00203%2019.9657%202.01314%2019.9031%202.033%2019.843L3.5%2015'%20stroke='%23FAFAFA'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",bt="/e-commerce-final-project/assets/google-play-store-logo-DvB-zK-L.svg",jt="/e-commerce-final-project/assets/AppStore-bzlpWfkx.svg",wt={name:"light",mode:"light",primary1:"#FFFFFF",Text1:"#000000",Text2:"#7D8184",ButtonCard:"#000000",secound1:"#FAFAFA",secound2:"#F5F5F5",secoundCard:"#F5F5F5",Button1:"#00FF66",Button2:"#DB4444",HoverButton:"#E07575",HoverButton2:"#A0BCE0",bgColor:"#F5F5F5",success:"#47B486",error:"#DB4444",warning:"#E2B93B",warningBg:"#FEFAF1",tagColor:"#F5F5F5",primaryText:"#D37643",secondaryText:"#363738",borderColor:"#A4A1A1FF",font:"Roboto, sans-serif",headingFont:"Poppins, sans-serif",disabledBg:"#F2F2F2FF",disabledText:"#999999",heading2:{fontSize:"32px",fontFamily:"Poppins, sans-serif",fontWeight:600},sidebarText:{fontSize:"16px",fontWeight:500,fontFamily:"Roboto, sans-serif"}},Ct={name:"dark",mode:"dark",primary1:"#000000",Text1:"#FFFFFF",Text2:"#BBBBBB",ButtonCard:"#000000",secound1:"#ffffff",secound2:"#3A3A3A",secoundCard:"#3A3A3A",Button1:"#00FF66",Button2:"#DB4444",HoverButton:"#E07575",HoverButton2:"#A0BCE0",bgColor:"#121212",success:"#47B486",error:"#DB4444",warning:"#E2B93B",warningBg:"#4A4A2A",tagColor:"#3A3A3A",primaryText:"#FFFFFF",secondaryText:"#BBBBBB",borderColor:"#E7E7E7FF",font:"Roboto, sans-serif",headingFont:"Poppins, sans-serif",disabledBg:"#C3C0C0FF",disabledText:"#C3C0C0FF",heading2:{fontSize:"32px",fontFamily:"Poppins, sans-serif",fontWeight:600},sidebarText:{fontSize:"16px",fontWeight:500,fontFamily:"Roboto, sans-serif"}},je=l.createContext(void 0),C=()=>{const t=l.useContext(je);if(!t)throw new Error("useTheme must be used inside ThemeProvider");return t},vt=({children:t})=>{const o=window.matchMedia("(prefers-color-scheme:light)").matches,[s,n]=l.useState(o);l.useEffect(()=>{const a=localStorage.getItem("theme");a==="dark"&&n(!0),a==="light"&&n(!1)},[]);const r=()=>{n(a=>{const d=!a;return localStorage.setItem("theme",d?"light":"dark"),d})},i=s?Ct:wt;return e.jsx(je.Provider,{value:{theme:i,toggleTheme:r,isDark:s},children:t})},St="data:image/svg+xml,%3csvg%20width='11'%20height='18'%20viewBox='0%200%2011%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%207H10.5L10%209H6V18H4V9H0V7H4V5.128C4%203.345%204.186%202.698%204.534%202.046C4.87501%201.40181%205.40181%200.875009%206.046%200.534C6.698%200.186%207.345%200%209.128%200C9.65%200%2010.108%200.0500001%2010.5%200.15V2H9.128C7.804%202%207.401%202.078%206.99%202.298C6.686%202.46%206.46%202.686%206.298%202.99C6.078%203.401%206%203.804%206%205.128V7Z'%20fill='white'/%3e%3c/svg%3e",Bt="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.1211%204.44336C14.9979%204.09254%2015.9592%204.00852%2016.8838%204.20117C17.8082%204.39388%2018.6557%204.85462%2019.3193%205.52637L19.3486%205.55664H19.3906C19.7296%205.55426%2020.0806%205.59738%2020.498%205.53809C20.882%205.48352%2021.3278%205.34203%2021.915%205.00977C21.6091%206.49447%2021.4324%207.16729%2020.7646%208.08301L20.7451%208.10938V8.14258C20.7451%2011.9414%2019.5781%2014.7564%2017.8262%2016.7393C16.0729%2018.7234%2013.7275%2019.8816%2011.3623%2020.3535C9.7452%2020.6761%207.754%2020.5731%205.99609%2020.2109C5.11794%2020.03%204.30096%2019.7842%203.62012%2019.4971C3.03699%2019.2511%202.56006%2018.9759%202.22949%2018.6885C2.6606%2018.6463%203.41195%2018.553%204.24414%2018.3594C5.24389%2018.1267%206.37194%2017.749%207.20312%2017.1406L7.31934%2017.0557L7.19922%2016.9766C6.50766%2016.5207%204.81165%2015.4984%203.73145%2013.5166C2.66701%2011.5637%202.19288%208.66296%203.91406%204.42578C5.57929%206.34325%207.27273%207.66041%208.99512%208.36719C9.57627%208.60556%209.94226%208.72333%2010.2314%208.79102C10.5195%208.85841%2010.7322%208.8754%2010.9922%208.91113L11.2871%208.95215L11.1074%208.77148C11.1323%207.84188%2011.4255%206.93867%2011.9541%206.17285C12.4906%205.3958%2013.2444%204.79414%2014.1211%204.44336ZM15.9053%205.90137C15.119%205.90124%2014.3638%206.20994%2013.8027%206.76074C13.3119%207.24267%2013.0038%207.87627%2012.9248%208.55371L12.9053%208.84668L12.877%2010.4209C12.8756%2010.4914%2012.8592%2010.5613%2012.8291%2010.625C12.799%2010.6887%2012.7556%2010.7452%2012.7021%2010.791C12.6487%2010.8368%2012.5861%2010.8716%2012.5186%2010.8916C12.4511%2010.9115%2012.3802%2010.9166%2012.3105%2010.9072L10.749%2010.6953C8.71753%2010.4183%206.7663%209.48248%204.88965%207.91895L4.75781%207.80859L4.72754%207.97754C4.42573%209.64812%204.56793%2011.0709%205.14746%2012.3018C5.72674%2013.532%206.73875%2014.5607%208.15625%2015.4521L9.90234%2016.5498C9.97145%2016.5932%2010.0296%2016.6529%2010.0703%2016.7236C10.111%2016.7944%2010.1339%2016.8744%2010.1367%2016.9561C10.1395%2017.0377%2010.1217%2017.1189%2010.0859%2017.1924C10.0501%2017.2658%209.99667%2017.3299%209.93066%2017.3779L8.33887%2018.541L8.11523%2018.7041L8.3916%2018.7207C9.34472%2018.7801%2010.2532%2018.738%2011.0098%2018.5879C13.3887%2018.1129%2015.375%2016.9789%2016.7656%2015.2207C18.1559%2013.4627%2018.9453%2011.0883%2018.9453%208.14258C18.9453%207.99705%2018.8715%207.78499%2018.7441%207.55762C18.6144%207.32598%2018.4211%207.06491%2018.167%206.82031C17.6584%206.33085%2016.8999%205.90145%2015.9053%205.90137Z'%20fill='white'%20stroke='black'%20stroke-width='0.2'/%3e%3c/svg%3e",It="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%203H7C5.93913%203%204.92172%203.42143%204.17157%204.17157C3.42143%204.92172%203%205.93913%203%207V17C3%2018.0609%203.42143%2019.0783%204.17157%2019.8284C4.92172%2020.5786%205.93913%2021%207%2021H17C18.0609%2021%2019.0783%2020.5786%2019.8284%2019.8284C20.5786%2019.0783%2021%2018.0609%2021%2017V7C21%205.93913%2020.5786%204.92172%2019.8284%204.17157C19.0783%203.42143%2018.0609%203%2017%203Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2016C13.0609%2016%2014.0783%2015.5786%2014.8284%2014.8284C15.5786%2014.0783%2016%2013.0609%2016%2012C16%2010.9391%2015.5786%209.92172%2014.8284%209.17157C14.0783%208.42143%2013.0609%208%2012%208C10.9391%208%209.92172%208.42143%209.17157%209.17157C8.42143%209.92172%208%2010.9391%208%2012C8%2013.0609%208.42143%2014.0783%209.17157%2014.8284C9.92172%2015.5786%2010.9391%2016%2012%2016V16Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%207.5C17.7652%207.5%2018.0196%207.39464%2018.2071%207.20711C18.3946%207.01957%2018.5%206.76522%2018.5%206.5C18.5%206.23478%2018.3946%205.98043%2018.2071%205.79289C18.0196%205.60536%2017.7652%205.5%2017.5%205.5C17.2348%205.5%2016.9804%205.60536%2016.7929%205.79289C16.6054%205.98043%2016.5%206.23478%2016.5%206.5C16.5%206.76522%2016.6054%207.01957%2016.7929%207.20711C16.9804%207.39464%2017.2348%207.5%2017.5%207.5Z'%20fill='white'/%3e%3c/svg%3e",kt="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5%209.05C12.417%208.113%2013.611%207.5%2015%207.5C16.4587%207.5%2017.8576%208.07946%2018.8891%209.11091C19.9205%2010.1424%2020.5%2011.5413%2020.5%2013V20.5H18.5V13C18.5%2012.0717%2018.1313%2011.1815%2017.4749%2010.5251C16.8185%209.86875%2015.9283%209.5%2015%209.5C14.0717%209.5%2013.1815%209.86875%2012.5251%2010.5251C11.8687%2011.1815%2011.5%2012.0717%2011.5%2013V20.5H9.5V8H11.5V9.05ZM4.5%206C4.10218%206%203.72064%205.84196%203.43934%205.56066C3.15804%205.27936%203%204.89782%203%204.5C3%204.10218%203.15804%203.72064%203.43934%203.43934C3.72064%203.15804%204.10218%203%204.5%203C4.89782%203%205.27936%203.15804%205.56066%203.43934C5.84196%203.72064%206%204.10218%206%204.5C6%204.89782%205.84196%205.27936%205.56066%205.56066C5.27936%205.84196%204.89782%206%204.5%206ZM3.5%208H5.5V20.5H3.5V8Z'%20fill='white'/%3e%3c/svg%3e",Ft=()=>{const{theme:t}=C(),o=D(),s=E(o.breakpoints.down("sm"));return e.jsx(c,{sx:{bgcolor:t.ButtonCard,color:t.secound1,pt:8,pb:6,width:"100%",overflowX:"hidden",boxSizing:"border-box"},children:e.jsxs(c,{sx:{maxWidth:1200,mx:"auto",px:{xs:2,sm:3,md:5},width:"100%",boxSizing:"border-box",overflowX:"hidden"},children:[e.jsxs(A,{container:!0,spacing:s?4:10,children:[e.jsxs(A,{children:[e.jsx(b,{sx:{fontSize:s?16:18,fontWeight:600},children:"Exclusive"}),e.jsx(b,{sx:{mt:3,fontSize:s?12:14,fontWeight:500},children:"Subscribe"}),e.jsx(b,{sx:{mt:2,fontSize:s?12:14},children:"Get 10% off your first order"}),e.jsx(ce,{placeholder:"Enter your email",size:"small",variant:"outlined",fullWidth:!0,InputProps:{endAdornment:e.jsx(K,{position:"end",children:e.jsx(w,{edge:"end",sx:{color:t.primary1},children:e.jsx(c,{component:"img",src:yt,alt:"send",sx:{width:20,height:20}})})})},sx:{mt:2,width:"100%",bgcolor:t.ButtonCard,input:{color:t.secound1,fontSize:s?12:14,p:1.2},"& fieldset":{borderColor:t.borderColor}}})]}),e.jsxs(A,{children:[e.jsx(b,{sx:{fontSize:s?16:18,fontWeight:600},children:"Support"}),["111 Bijoy sarani, Dhaka,","DH 1515, Bangladesh.","exclusive@gmail.com","+88015-88888-9999"].map((n,r)=>e.jsx(b,{sx:{mt:r===0?3:2,fontSize:s?12:14},children:n},r))]}),e.jsxs(A,{children:[e.jsx(b,{sx:{fontSize:s?16:18,fontWeight:600},children:"Account"}),e.jsx(c,{sx:{mt:3,display:"flex",flexDirection:"column",gap:s?1.5:2},children:["My Account","Login / Register","Cart","Wishlist","Shop"].map(n=>e.jsx(R,{href:"#",underline:"hover",sx:{color:t.secound1,fontSize:s?12:14},children:n},n))})]}),e.jsxs(A,{children:[e.jsx(b,{sx:{fontSize:s?16:18,fontWeight:600},children:"Quick Link"}),e.jsx(c,{sx:{mt:3,display:"flex",flexDirection:"column",gap:s?1.5:2},children:["Privacy Policy","Terms Of Use","FAQ","Contact"].map(n=>e.jsx(R,{href:"#",underline:"hover",sx:{color:t.secound1,fontSize:s?12:14},children:n},n))})]}),e.jsx(A,{children:e.jsxs(c,{sx:{display:"flex",flexDirection:"column",alignItems:s?"center":"flex-start",width:"100%"},children:[e.jsx(b,{sx:{fontSize:s?16:18,fontWeight:600},children:"Download App"}),e.jsx(b,{sx:{mt:3,fontSize:s?12:14},children:"Save $3 with App New User Only"}),e.jsxs(c,{sx:{mt:2,display:"flex",gap:2,flexWrap:s?"wrap":"nowrap",justifyContent:s?"center":"flex-start",alignItems:"center",width:"100%"},children:[e.jsx(c,{component:"img",src:ft,alt:"QR",sx:{width:80,height:80,flexShrink:0}}),e.jsxs(c,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(c,{component:"img",src:bt,alt:"Google Play",sx:{width:120,maxWidth:"100%"}}),e.jsx(c,{component:"img",src:jt,alt:"App Store",sx:{width:120,maxWidth:"100%"}})]})]}),e.jsx(c,{sx:{display:"flex",gap:2,mt:4,mb:4,justifyContent:s?"center":"flex-start",flexWrap:"wrap",width:"100%"},children:[St,Bt,It,kt].map((n,r)=>e.jsx(w,{size:"small",sx:{p:1,"&:hover img":{filter:"brightness(0) saturate(100%) invert(54%) sepia(100%) saturate(310%) hue-rotate(176deg) brightness(93%) contrast(96%)"}},children:e.jsx(c,{component:"img",src:n,alt:`social-icon-${r}`,sx:{width:16,height:16,filter:"brightness(0) invert(1)"}})},r))})]})})]}),e.jsx(c,{sx:{borderTop:"0.5px solid rgba(255,255,255,0.2)",py:3,textAlign:"center",width:"100%"},children:e.jsx(b,{sx:{color:"rgba(255,255,255,0.7)",fontSize:s?12:14},children:"© Copyright Rimel 2022. All rights reserved."})})]})})};function V(){return typeof window<"u"&&typeof localStorage<"u"}const Pt=()=>V()?localStorage:{getItem:()=>null,setItem:()=>{},removeItem:()=>{},clear:()=>{},key:()=>null,length:0};function we(t,o=Pt){const s=o();return{set:n=>{if(V())try{const r=typeof n=="string"?n:JSON.stringify(n);s.setItem(t,r)}catch(r){console.error(`Failed to set ${t} in storage`,r)}},get:()=>{if(V())try{const n=s.getItem(t);if(!n)return;try{return JSON.parse(n)}catch{return n}}catch{return}},remove:()=>{if(V())try{s.removeItem(t)}catch(n){console.error(`Failed to remove ${t} from storage`,n)}}}}const M=we("wishlist"),T=Y((t,o)=>({wishlist:M.get()||[],addToWishlist:s=>{if(!o().wishlist.find(r=>r.id===s.id)){const r=[...o().wishlist,s];t({wishlist:r}),M.set(r)}},removeFromWishlist:s=>{const n=o().wishlist.filter(r=>r.id!==s);t({wishlist:n}),M.set(n)},clearWishlist:()=>{t({wishlist:[]}),M.remove()},isInWishlist:s=>o().wishlist.some(n=>n.id===s)})),Ce=Y()(Fe((t,o)=>({cart:[],addToCart:(s,n=1)=>{const r=o().cart.find(i=>i.id===s.id);t(r?{cart:o().cart.map(i=>i.id===s.id?{...i,quantity:i.quantity+n}:i)}:{cart:[...o().cart,{...s,quantity:n}]})},removeFromCart:s=>{t({cart:o().cart.filter(n=>n.id!==s)})},updateQuantity:(s,n)=>{t(r=>({cart:r.cart.map(i=>i.id===s?{...i,quantity:n}:i)}))},clearCart:()=>t({cart:[]}),isInCart:s=>o().cart.some(n=>n.id===s)}),{name:"cart-storage"})),W=Y(t=>({open:!1,setOpen:o=>t({open:o})})),O=we("token");function ve(t="/login"){try{O.remove(),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}catch(o){console.error(" Logout cleanup failed:",o)}typeof window<"u"&&(window.location.href=`/e-commerce-final-project${t}`)}const ne={401:{message:"You are not authorized to access this resource",action(){k.error(this.message),ve("/login")}},403:{message:"You do not have permission to access this resource",action(){k.error(this.message)}},404:{message:"The requested resource was not found",action(){k.error(this.message)}},500:{message:"An internal server error occurred",action(){k.error(this.message)}}},Se="https://api.escuelajs.co/api/v1".trim()||"https://api.escuelajs.co/api/v1";console.log("Axios Base URL:",Se);const S=Pe.create({baseURL:Se,headers:new Z({"Content-Type":"application/json"}),timeout:3e4});S.interceptors.request.use(t=>{const o=O.get();o&&o.startsWith("ey")?t.headers instanceof Z?t.headers.set("Authorization",`Bearer ${o}`):(t.headers=new Z(t.headers),t.headers.set("Authorization",`Bearer ${o}`)):o&&console.warn(" Invalid token format detected:",o);const s=t.method?.toUpperCase()??"UNKNOWN",n=`${t.baseURL??""}${t.url??""}`;return console.log(" Request:",s,n),t},t=>Promise.reject(t));S.interceptors.response.use(t=>t,t=>{if(t.code==="ECONNABORTED")return k.error("Request timed out. Please try again later."),Promise.reject(t);const o=t.response?.status;return console.error("Axios Error:",t),o&&ne[o]?ne[o].action():o||k.error("Network error. Please check your connection or CORS settings."),Promise.reject(t)});class At{usersEndPoint="/users";authEndPoint="/auth";async signUp(o){return(await S.post(this.usersEndPoint,o)).data}async login(o){const s=await S.post(`${this.authEndPoint}/login`,o),n=s.data.access_token;return n&&O.set(n),s.data}async getProfile(o){const s=O.get();if(!s)throw new Error("No access token found — please log in again.");return(await S.get(`${this.authEndPoint}/profile`,{headers:{Authorization:`Bearer ${s}`}})).data}async refreshToken(o){return(await S.post(`${this.authEndPoint}/refresh-token`,{refreshToken:o})).data}}const Lt=new At;function Be(){const[t,o]=l.useState(O.get()??null);l.useEffect(()=>{const i=()=>{o(O.get()??null)};window.addEventListener("storage",i);const a=localStorage.setItem,d=localStorage.removeItem;return localStorage.setItem=function(x,h){a.apply(this,[x,h]),x==="token"&&i()},localStorage.removeItem=function(x){d.apply(this,[x]),x==="token"&&i()},()=>{window.removeEventListener("storage",i),localStorage.setItem=a,localStorage.removeItem=d}},[]);const{isLoading:s,isError:n}=q({queryKey:["userProfile",t],queryFn:()=>Lt.getProfile(t),enabled:!!t,retry:!1});return{isLoggedIn:!!t&&!n,isLoading:s}}const j={home:"/",products:{list:"/products",details:t=>`/products/${t}`},wishlist:"/wishlist",cart:"/cart",about:"/about",contact:"/contact",checkout:"/checkout",auth:{login:"/login",signUp:"/sign-up"}},Tt={hidden:{},visible:{transition:{staggerChildren:.1}}},Et={hidden:{opacity:0,x:50},visible:{opacity:1,x:0,transition:{duration:.4,ease:_}}},Rt=({open:t,onClose:o,navLinks:s})=>e.jsx(Ae,{anchor:"right",open:t,onClose:o,PaperProps:{sx:{width:"70vw",bgcolor:"rgba(0,0,0,0.35)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",borderRadius:2,border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 8px 32px rgba(0,0,0,0.25)",p:3,pt:15}},children:e.jsx(f.div,{variants:Tt,initial:"hidden",animate:t?"visible":"hidden",children:e.jsx(c,{display:"flex",flexDirection:"column",gap:2,children:s.map(n=>e.jsx(f.div,{variants:Et,children:e.jsxs(R,{component:z,to:n.to,underline:"none",sx:{display:"flex",alignItems:"center",gap:1.5,fontSize:16,fontWeight:500,color:"#f5f5f5",py:1,px:1.5,borderRadius:1.5,"&:hover":{bgcolor:"rgba(255,255,255,0.08)",transform:"translateX(3px)"}},onClick:o,children:[n.icon,n.label]})},n.label))})})}),zt=({open:t,onConfirm:o,onCancel:s,theme:n})=>e.jsxs(de,{open:t,onClose:s,PaperProps:{sx:{bgcolor:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(9px)",WebkitBackdropFilter:"blur(9px)",borderRadius:4,border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255,255,255,0.2), inset 0 -1px 0 rgba(255,255,255,0.05), inset 0 0 34px 17px rgba(255,255,255,0.1)",textAlign:"center",p:3,minWidth:360,maxWidth:400,overflow:"hidden"}},children:[e.jsx(c,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:2},children:e.jsx(ue,{sx:{fontSize:50,color:n.Button2,bgcolor:n.Button2+"22",borderRadius:"50%",p:1.5}})}),e.jsx(Le,{sx:{fontWeight:700,fontSize:20,color:"white"},children:"Confirm Logout"}),e.jsx(he,{sx:{mt:1},children:e.jsxs(b,{sx:{color:"gray",fontSize:15},children:["Are you sure you want to logout? ",e.jsx("br",{}),"Your current session will be ended."]})}),e.jsxs(Te,{sx:{justifyContent:"center",gap:2,mt:2},children:[e.jsx(ee,{onClick:s,sx:{px:7,py:1.2,borderRadius:3,fontWeight:600,color:n.Button2,border:`1px solid ${n.Button2}`,transition:"all 0.3s ease"},children:"Cancel"}),e.jsx(ee,{onClick:o,sx:{px:7,py:1.2,borderRadius:3,fontWeight:600,bgcolor:n.Button2,color:"#fff","&:hover":{bgcolor:n.Button2+"cc"},transition:"all 0.3s ease"},children:"Logout"})]})]}),Ot=({open:t,theme:o,isMobile:s,onClose:n})=>{const{toggleTheme:r,isDark:i}=C(),[a,d]=l.useState(!1),x=()=>d(!0),h=()=>d(!1),m=()=>{d(!1),k.success("Logged out successfully",{className:"toast-success"}),ve(j.auth.signUp),n?.()},g=[{label:"Manage My Account",to:"",icon:e.jsx(Oe,{sx:{fontSize:22}})},{label:"My Orders",to:"",icon:e.jsx(De,{sx:{fontSize:22}})},{label:"My Cancellations",to:"",icon:e.jsx(We,{sx:{fontSize:22}})},{label:"My Reviews",to:"",icon:e.jsx(_e,{sx:{fontSize:22}})},{label:"Logout",to:"",icon:e.jsx(ue,{sx:{fontSize:22}}),action:x}];return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:t&&e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25,ease:"easeOut"},style:{position:"absolute",top:"100%",right:0,marginTop:"8px",zIndex:1500},children:e.jsxs(c,{className:"glass-card",sx:{width:250,p:2.2,borderRadius:"5px",display:"flex",flexDirection:"column",gap:1.2,...s&&{right:"50%",transform:"translateX(50%)",width:"50vw"}},onClick:u=>u.stopPropagation(),children:[g.map(u=>e.jsxs(R,{component:z,to:u.to||"#",underline:"none",sx:{color:"#f5f5f5",fontSize:s?12:15,display:"flex",alignItems:"center",gap:1.5,py:.7,px:1,borderRadius:"10px",transition:"all 0.25s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)",color:o?.HoverButton||"#ffffff",transform:"translateX(3px)"}},onClick:I=>{u.action&&(I.preventDefault(),I.stopPropagation(),u.action())},children:[e.jsx(c,{component:"span",sx:{display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",opacity:.9},children:u.icon}),u.label]},u.label)),e.jsx(c,{sx:{mt:1,display:"flex",justifyContent:"center",alignItems:"center",borderTop:"1px solid rgba(255,255,255,0.1)",pt:1},children:e.jsx(Ee,{title:`Switch to ${i?"Light":"Dark"} Mode`,children:e.jsx(w,{onClick:r,sx:{color:"#fff",transition:"all 0.3s ease","&:hover":{color:o?.HoverButton||"#90caf9"}},children:i?e.jsx(Re,{fontSize:"medium"}):e.jsx(ze,{fontSize:"medium"})})})})]})})}),e.jsx(zt,{open:a,onCancel:h,onConfirm:m,theme:o})]})},Q={iconButton:(t,o)=>({bgcolor:"transparent",borderRadius:"50%",transition:"all 0.3s ease","&:hover":{bgcolor:o||t.Button2,color:"white"}}),badge:(t,o)=>({"& .MuiBadge-badge":{bgcolor:o||t.Button2,color:"white",fontWeight:600}}),icon:(t,o)=>({fontSize:20,color:o||t.Text1,transition:"color 0.3s ease","&:hover":{color:"white"}})},Dt=l.forwardRef(({theme:t,isLoggedIn:o,cart:s,wishlist:n,isMobile:r,iconColor:i,hoverBg:a,badgeColor:d},x)=>{const[h,m]=l.useState(!1),g=l.useRef(null),u=l.useRef(null),I=xe(),F=I.pathname===j.auth.signUp||I.pathname===j.auth.login;l.useEffect(()=>{const p=v=>{g.current&&!g.current.contains(v.target)&&m(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),l.useImperativeHandle(x,()=>({cartIcon:u.current}));const L=Q.iconButton(t,a),y=Q.badge(t,d),P=Q.icon(t,i);return e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[!F&&e.jsx(w,{component:z,to:j.wishlist,sx:{...L,...y},children:e.jsx(te,{badgeContent:n.length,color:"secondary",children:e.jsx(pe,{sx:P})})}),!F&&e.jsx(w,{ref:u,component:z,to:j.cart,sx:{...L,...y},children:e.jsx(te,{badgeContent:s.length,color:"secondary",children:e.jsx(me,{sx:P})})}),!F&&o&&e.jsxs(c,{sx:{position:"relative"},ref:g,children:[e.jsx(w,{onClick:p=>{p.stopPropagation(),m(v=>!v)},sx:L,children:e.jsx(Me,{sx:P})}),e.jsx(Ot,{open:h,theme:t,isMobile:!!r})]})]})}),$={container:(t,o)=>({bgcolor:o||t.primary2||"#F2F2F2FF",borderRadius:1,px:1.5,py:1,display:"flex",alignItems:"center",width:250,cursor:"pointer",transition:"all 0.3s ease"}),icon:t=>({fontSize:20,color:t||"black",mr:1}),placeholder:t=>({fontSize:12,color:t||"black"}),shortcut:(t,o)=>({fontSize:10,color:t||o?.Text2||"black",ml:3,px:.5,py:.2,borderRadius:.5,border:`1px solid ${t||o?.Text2||"black"}`})},Wt=({theme:t,searchStore:o,isMobile:s,color:n,bgcolor:r})=>s?e.jsx(w,{onClick:()=>o.setOpen(!0),children:e.jsx(G,{fontSize:"medium",sx:{color:n||t.Text1}})}):e.jsxs(c,{onClick:()=>o.setOpen(!0),sx:$.container(t,r),children:[e.jsx(G,{sx:$.icon(n)}),e.jsx(b,{sx:$.placeholder(n),children:"What are you looking for?"}),e.jsx(b,{sx:$.shortcut(n,t),children:"Ctrl+/"})]}),re={container:{display:"flex",gap:4},link:(t,o)=>({position:"relative",fontSize:14,fontWeight:500,fontFamily:t.font,color:o?t.HoverButton:t.Text1,textDecoration:"none",pb:.5,transition:"all 0.3s ease","&::after":{content:'""',position:"absolute",left:0,bottom:0,width:o?"100%":"0%",height:"2px",backgroundColor:t.Text1,transition:"width 0.3s ease"},"&:hover":{color:t.HoverButton},"&:hover::after":{width:"100%"}})},_t=[{label:"Home",to:j.home},{label:"About",to:j.about},{label:"Contact",to:j.contact},{label:"Sign Up",to:j.auth.signUp}],Mt=({isMobile:t,theme:o})=>{const s=xe();return t?null:e.jsx(c,{sx:re.container,children:_t.map(n=>{const r=s.pathname===n.to;return e.jsx(R,{component:z,to:n.to,sx:re.link(o,r),children:n.label},n.label)})})},$t=(t,o)=>({textDecoration:"none",fontFamily:t.font,fontWeight:600,fontSize:o?20:26,color:t.Text1,letterSpacing:1,pl:o?0:10,transition:"color 0.3s ease","&:hover":{color:t.HoverButton}}),Ht=({isMobile:t,theme:o})=>e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},whileHover:{scale:1.1},transition:{duration:.5,type:"spring"},children:e.jsx(b,{component:z,to:j.home,sx:$t(o,t),children:"Exclusive"})}),Vt=[{label:"Home",to:j.home,icon:e.jsx(Ve,{})},{label:"About",to:j.about,icon:e.jsx(Ne,{})},{label:"Contact",to:j.contact,icon:e.jsx(qe,{})},{label:"Sign Up",to:j.auth.signUp,icon:e.jsx(Ue,{})}],Ie=l.forwardRef((t,o)=>{const{theme:s}=C(),n=D(),r=E(n.breakpoints.down("md")),{isLoggedIn:i}=Be(),a=Ce(u=>u.cart),d=T(u=>u.wishlist),x=W(),[h,m]=l.useState(!1),g=l.useRef(null);return l.useImperativeHandle(o,()=>({cartIcon:g.current?.cartIcon||null})),e.jsx(ge,{position:"fixed",sx:{top:{xs:50,sm:35},bgcolor:s.primary1,color:s.Text1,borderBottom:`1px solid ${s.Text2}`,zIndex:1300,boxShadow:"none"},children:e.jsxs($e,{sx:{justifyContent:"space-between",gap:2},children:[e.jsx(Ht,{isMobile:r,theme:s}),e.jsx(Mt,{isMobile:r,theme:s}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(Wt,{theme:s,searchStore:x,isMobile:r}),e.jsx(Dt,{ref:g,theme:s,isLoggedIn:i,cart:a,wishlist:d}),r&&e.jsxs(e.Fragment,{children:[e.jsx(w,{onClick:()=>m(!0),sx:{color:s.Text1},children:e.jsx(He,{})}),e.jsx(Rt,{open:h,onClose:()=>m(!1),navLinks:Vt})]})]})]})})});Ie.displayName="Header";const Nt=({message:t="Summer Sale For All Swim Suits And Free Express Delivery – OFF 50%!",actionText:o="Shop Now",actionHref:s="#",languages:n=["English","Arabic","French"]})=>{const{theme:r}=C(),i=D(),a=E(i.breakpoints.down("sm")),[d,x]=X.useState(null),h=!!d,m=u=>x(u.currentTarget),g=()=>x(null);return e.jsx(ge,{position:"fixed",sx:{top:0,left:0,right:0,zIndex:1301,bgcolor:r.ButtonCard,height:a?50:40,display:"flex",justifyContent:"center",boxShadow:"none"},children:e.jsxs(c,{sx:{px:a?.5:2,display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:"lg",mx:"auto",width:"100%",flexWrap:"wrap",rowGap:a?.5:0},children:[e.jsxs(b,{sx:{flex:1,fontSize:a?"9px":"14px",fontWeight:a?300:400,fontFamily:"'Inter', sans-serif",color:"white",textAlign:"center"},children:[t," ",e.jsx(R,{href:s,sx:{color:"white",fontWeight:600,ml:.5,textDecoration:"underline","&:hover":{textDecoration:"underline"}},children:o})]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center"},children:[e.jsxs(w,{onClick:m,sx:{color:"white",p:0,fontSize:a?"12px":"14px"},children:[e.jsx(b,{sx:{fontSize:a?"12px":"14px",fontWeight:500,mr:.5,fontFamily:"'Inter', sans-serif"},children:n[0]}),e.jsx(Qe,{sx:{fontSize:a?16:18}})]}),e.jsx(Ke,{anchorEl:d,open:h,onClose:g,PaperProps:{sx:{bgcolor:r.ButtonCard,color:"white"}},children:n.map(u=>e.jsx(Ze,{onClick:g,children:u},u))})]})]})})};function qt(){const t=l.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsx(Nt,{}),e.jsx(Ie,{ref:t}),e.jsx(c,{sx:{height:{xs:105,sm:95},width:"100%"}}),e.jsx(fe,{context:{cartRef:t}}),e.jsx(Ft,{})]})}const Ut="/e-commerce-final-project/assets/shopping-image-CgtRTIYq.jpg",Qt=()=>{const{theme:t}=C(),o=D(),s=E(o.breakpoints.down("sm")),n=E(o.breakpoints.between("sm","md")),r=s||n;return e.jsxs(A,{container:!0,sx:{bgcolor:t.primary1,p:{xs:2,md:0},pt:{xs:2,md:5},pb:{xs:2,md:20},pr:{xs:2,md:10},gap:r?0:3},justifyContent:r?"center":"flex-start",alignItems:"center",children:[!r&&e.jsx(A,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",flex:1},children:e.jsx(c,{component:f.img,src:Ut,alt:"Shopping illustration",initial:{opacity:0,x:-200},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},sx:{pl:0,ml:0,width:"95%",maxWidth:"500rem",height:"auto",borderRadius:0,objectFit:"cover"}})}),e.jsx(A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flex:r?1:void 0,p:{xs:2,md:13},Pl:{xs:2,md:0},pr:{xs:10,md:0},mr:{xs:0,md:10}},children:e.jsx(f.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},style:{width:"100%"},children:e.jsx(fe,{})})})]})},Kt=l.lazy(()=>B(()=>import("./index-DtIs4QFI.js"),__vite__mapDeps([0,1,2,3]))),Zt=[{path:"/about",element:e.jsx(Kt,{})}],Gt=l.lazy(()=>B(()=>import("./index-Cg0YiNPL.js"),__vite__mapDeps([4,1,2,5]))),Yt=[{path:"/cart",element:e.jsx(Gt,{})}],Xt=l.lazy(()=>B(()=>import("./index-TjPcujWM.js"),__vite__mapDeps([6,1,2]))),Jt=[{path:"/contact",element:e.jsx(Xt,{})}],eo=({children:t})=>{const{isLoggedIn:o,isLoading:s}=Be();return s?null:o?e.jsx(e.Fragment,{children:t}):e.jsx(Ge,{to:"/login",replace:!0})},to=l.lazy(()=>B(()=>import("./index-bgQxdZZo.js"),__vite__mapDeps([7,1,2,5]))),oo=[{path:"/checkout",element:e.jsxs(eo,{children:[e.jsx(to,{}),","]})}],so=l.lazy(()=>B(()=>import("./index-Cm_apuc3.js"),__vite__mapDeps([8,1,2,9,10,3]))),no=[{path:"/",element:e.jsx(so,{})}];class ro extends X.Component{state={hasError:!1};static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?e.jsx("div",{children:"Something went wrong. Please try again later."}):this.props.children}}const io=l.lazy(()=>B(()=>import("./index-D-8CKQyp.js"),__vite__mapDeps([11,1,2,12]))),ao=l.lazy(()=>B(()=>import("./index-ClISB9y1.js"),__vite__mapDeps([13,1,2,12]))),lo=()=>e.jsx("div",{children:"Loading..."}),co=[{path:"/login",element:e.jsx(ao,{})},{path:"/sign-up",element:e.jsx(l.Suspense,{fallback:e.jsx(lo,{}),children:e.jsx(ro,{children:e.jsx(io,{})})})}],uo=l.lazy(()=>B(()=>import("./index-BHdaNdEL.js"),__vite__mapDeps([14,1,2,9,10,15]))),ho=[{path:"/products",element:e.jsx(uo,{})}],xo=l.lazy(()=>B(()=>import("./index-B3Q_-O71.js"),__vite__mapDeps([16,1,2,10,15]))),po=[{path:"/products/:id",element:e.jsx(xo,{})}],mo=l.lazy(()=>B(()=>import("./index-C7m7eWDj.js"),__vite__mapDeps([17,1,2,10,15]))),go=[{path:"/wishlist",element:e.jsx(mo,{})}],fo=l.lazy(()=>B(()=>import("./index-B0fvL0Ng.js"),__vite__mapDeps([18,1,2])));function yo({children:t}){const{theme:o}=C(),s=[{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(qt,{}),t]}),children:[...Zt,...Yt,...Jt,...oo,...no,...ho,...po,...go,{element:e.jsx(Qt,{}),children:[...co]},{path:"*",element:e.jsx(fo,{})}]}],n=Ye(s,{basename:"/e-commerce-final-project"});return e.jsx(l.Suspense,{fallback:e.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:o.primary1,children:e.jsx(ye,{sx:{color:o.Text1}})}),children:e.jsx(Xe,{router:n})})}const bo=()=>{const t=W(o=>o.setOpen);return l.useEffect(()=>{const o=s=>{(s.ctrlKey||s.metaKey)&&s.key==="/"&&(s.preventDefault(),t(!0))};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t]),null},jo=({query:t,setQuery:o,isLoading:s})=>{const{theme:n}=C(),{open:r,setOpen:i}=W(),a=l.useRef(null),[d,x]=l.useState(!1),h=()=>o(""),m=()=>{i(!1),o("")};return l.useEffect(()=>{r&&a.current&&setTimeout(()=>{a.current?.focus(),x(!0),setTimeout(()=>x(!1),600)},150)},[r]),e.jsxs(c,{display:"flex",alignItems:"center",mb:3,children:[e.jsx(N,{children:r&&e.jsx(f.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,y:-20,scale:.95,transition:{duration:.3}},style:{flex:1,borderRadius:16,overflow:"clip"},children:e.jsx(f.div,{animate:d?{scale:[1,1.03,1],boxShadow:[`0 0 0px ${n.Button2}`,`0 0 16px ${n.Button2}`,`0 0 0px ${n.Button2}`],transition:{duration:1.2,repeat:1}}:{scale:1,boxShadow:"0 0 0px rgba(0,0,0,0)"},style:{flex:1,borderRadius:16,overflow:"clip"},children:e.jsx(ce,{inputRef:a,fullWidth:!0,value:t,onChange:g=>o(g.target.value),placeholder:"Search for products...",variant:"outlined",InputProps:{startAdornment:e.jsx(K,{position:"start",children:s?e.jsx(ye,{size:20}):e.jsx(f.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1,transition:{duration:.4,ease:"easeOut"}},children:e.jsx(G,{sx:{color:n.Text1}})})}),endAdornment:e.jsx(K,{position:"end",children:t&&e.jsx(f.div,{whileTap:{scale:.85},children:e.jsx(w,{onClick:h,size:"small",children:e.jsx(oe,{sx:{color:n.Text2}})})})}),sx:{fontSize:16,bgcolor:n.primary1,color:n.Text1,borderRadius:16,"& .MuiOutlinedInput-notchedOutline":{border:"1px solid grey",borderRadius:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:"1px solid darkgrey"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:`1px solid ${n.Button2}`}}}})})},"search-bar")}),e.jsx(f.div,{whileTap:{scale:.9},whileHover:{rotate:90},children:e.jsx(w,{onClick:m,sx:{ml:1,bgcolor:n.Button2,color:n.primary1,"&:hover":{bgcolor:n.Button2}},children:e.jsx(oe,{})})})]})},wo=["PlayStation","Modern","Shirt","Bluetooth Speaker","Classic"],Co=({onClick:t})=>{const{theme:o}=C(),s={hidden:{},visible:{transition:{staggerChildren:.08}}},n={hidden:{opacity:0,y:15,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:_}}};return e.jsx(f.div,{variants:s,initial:"hidden",animate:"visible",style:{overflow:"hidden"},children:e.jsx(c,{display:"flex",gap:1,flexWrap:"wrap",mb:2,justifyContent:"start",children:wo.map((r,i)=>e.jsx(f.div,{variants:n,whileHover:{scale:1.08,rotate:2,boxShadow:`0 0 10px ${o.Button2}`,transition:{duration:.25}},whileTap:{scale:.92,rotate:-2,transition:{duration:.15}},children:e.jsx(Je,{label:r,onClick:()=>t(r),sx:{cursor:"pointer",bgcolor:o.Button2,color:"white",fontSize:14,fontWeight:500,borderRadius:"12px",px:1,"&:hover":{bgcolor:o.Button2}}})},i))})})},ie=({isMobile:t,favorite:o,toggleWishlist:s,handleViewDetails:n,handleAddToCart:r})=>{const{theme:i}=C();return e.jsxs(c,{sx:{position:t?"relative":"absolute",top:t?"auto":8,right:t?"auto":8,display:"flex",flexDirection:t?"row":"column",gap:1,mt:t?1:0,zIndex:10},children:[e.jsx(w,{onClick:s,sx:{bgcolor:"white",color:o?i.Button2:"black",border:"1px solid transparent","&:hover":{bgcolor:i.Button2,color:"white",border:"1px solid white"}},children:o?e.jsx(be,{fontSize:"small"}):e.jsx(pe,{fontSize:"small"})}),e.jsx(w,{onClick:n,sx:{bgcolor:"white",border:"1px solid transparent","&:hover":{bgcolor:"black",color:"white",border:"1px solid white"}},children:e.jsx(et,{fontSize:"small"})}),e.jsx(w,{onClick:r,sx:{bgcolor:"white",border:"1px solid transparent","&:hover":{bgcolor:i.Button1,color:"white",border:"1px solid white"}},children:e.jsx(me,{fontSize:"small"})})]})},vo=({product:t})=>{const{theme:o}=C(),s=tt(),n=D(),r=E(n.breakpoints.down("sm")),i=W(p=>p.setOpen),a=T(p=>p.addToWishlist),d=T(p=>p.removeFromWishlist),x=T(p=>p.isInWishlist(t.id)),h=Ce(p=>p.addToCart),m=t.images?.[0]||"/backup.png",[g,u]=l.useState([]),[I,F]=l.useState([]),L=()=>{if(x)d(t.id),k.info(`${t.title} removed from wishlist!`,{autoClose:1200});else{a(t),k.success(`${t.title} added to wishlist!`,{autoClose:1200});const p=Array.from({length:30}).map(()=>({id:Date.now()+Math.random(),x:Math.random()*400-60,delay:Math.random()*.3}));u(v=>[...v,...p])}},y=()=>{h({id:t.id,title:t.title,price:t.price,images:t.images||[m],oldPrice:t.oldPrice,discount:t.discount||""},1),k.success(`${t.title} added to cart!`,{autoClose:1200});const p=Array.from({length:30}).map(()=>({id:Date.now()+Math.random(),x:Math.random()*400-60,delay:Math.random()*.2}));F(v=>[...v,...p])},P=()=>{i(!1),s(j.products.details(t.id))};return e.jsx(f.div,{whileHover:{scale:1.04},transition:{duration:.25},style:{display:"inline-block",width:r?"100%":250},children:e.jsxs(ot,{sx:{display:"flex",flexDirection:r?"row":"column",alignItems:"center",justifyContent:"space-between",borderRadius:4,bgcolor:o.primary1,boxShadow:"0 4px 10px rgba(0,0,0,0.05)",border:`1px solid ${o.borderColor}`,p:r?.8:1.2,position:"relative",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease","&:hover":{boxShadow:"0 8px 20px rgba(219,68,68,0.25)",borderColor:o.Button2,"& .product-title":{color:o.Button2}}},children:[e.jsxs(c,{sx:{position:"relative"},children:[e.jsx(st,{component:"img",image:m,alt:t.title,sx:{width:r?70:"100%",height:r?70:160,objectFit:"contain",bgcolor:"#fafafa",borderRadius:2,transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}}),e.jsx(N,{children:g.map(p=>e.jsx(f.div,{initial:{opacity:1,scale:1,y:0,x:p.x},animate:{opacity:0,scale:1.5,y:-100},transition:{duration:1.2,ease:"easeOut",delay:p.delay},style:{position:"absolute",bottom:30,left:"50%",pointerEvents:"none"},onAnimationComplete:()=>u(v=>v.filter(U=>U.id!==p.id)),children:e.jsx(be,{sx:{color:o.Button2,fontSize:20}})},p.id))}),e.jsx(N,{children:I.map(p=>e.jsx(f.div,{initial:{opacity:1,scale:.7,y:0,x:p.x},animate:{opacity:0,scale:1.2,y:-100,rotate:Math.random()*60-30},transition:{duration:1.1,ease:"easeOut",delay:p.delay},style:{position:"absolute",bottom:25,left:"50%",pointerEvents:"none"},onAnimationComplete:()=>F(v=>v.filter(U=>U.id!==p.id)),children:e.jsx(nt,{sx:{color:o.Button1,fontSize:20}})},p.id))})]}),e.jsxs(rt,{sx:{flex:1,p:r?"4px 6px":2,overflow:"hidden",width:"100%"},children:[e.jsx(b,{className:"product-title",variant:"subtitle2",fontWeight:600,sx:{color:o.Text1,mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:r?"0.8rem":"1rem",maxWidth:r?140:"100%"},children:t.title}),e.jsxs(c,{display:"flex",alignItems:"center",gap:.5,children:[e.jsxs(b,{sx:{color:o.Button2,fontWeight:700,fontSize:r?"0.8rem":"1rem"},children:["$",t.price]}),e.jsx(it,{value:t.rating||0,precision:.5,readOnly:!0,size:r?"small":"medium"})]}),r&&e.jsx(c,{mt:.5,children:e.jsx(ie,{isMobile:!0,favorite:x,toggleWishlist:L,handleViewDetails:P,handleAddToCart:y})})]}),!r&&e.jsx(ie,{isMobile:!1,favorite:x,toggleWishlist:L,handleViewDetails:P,handleAddToCart:y})]})})};function So(t,o=500){const[s,n]=l.useState(t);return l.useEffect(()=>{const r=setTimeout(()=>{n(t)},o);return()=>{clearTimeout(r)}},[t,o]),s}const H="/products",ke={getAll:async(t=0,o=50)=>(await S.get(`${H}?offset=${t}&limit=${o}`)).data,getById:async t=>(await S.get(`${H}/${t}`)).data,getBySlug:async t=>(await S.get(`${H}/slug/${t}`)).data,getRelatedById:async t=>(await S.get(`${H}/${t}/related`)).data};function J(t){return t.map(o=>({...o,rating:Math.round(Math.random()*5*10)/10,discount:Math.random()>.5?`-${Math.floor(Math.random()*30+5)}%`:void 0,isNew:Math.random()>.7}))}function To(t){return q({queryKey:["product",t],queryFn:async()=>{if(!t)throw new Error("Product ID is required");const o=await ke.getById(t);return J([o])[0]},enabled:!!t})}function Eo(t,o=4){return q({queryKey:["relatedProducts",t,o],queryFn:async()=>{if(!t)throw new Error("Product ID is required");const n=(await ke.getAll()).filter(r=>r.id!==t).slice(0,o);return J(n)},enabled:!!t})}const Bo=(t=1,o=10,s,n)=>{const r=(t-1)*o;return q({queryKey:["products",t,o,s,n],queryFn:async()=>{const i={limit:o,offset:r};s&&(i.categorySlug=s);const a=await S.get("/products",{params:i});return J(a.data)},placeholderData:at})},Io=()=>{const{open:t,setOpen:o}=W(),[s,n]=l.useState(""),r=So(s,400),i=T(y=>y.addToWishlist),a=T(y=>y.removeFromWishlist),d=T(y=>y.isInWishlist),{data:x=[],isLoading:h,isError:m,refetch:g}=Bo(),u=l.useMemo(()=>x.filter(y=>y.title.toLowerCase().includes(r.toLowerCase())||y.category?.name.toLowerCase().includes(r.toLowerCase())),[x,r]);return{open:t,setOpen:o,query:s,setQuery:n,debouncedQuery:r,filteredProducts:u,isLoading:h,isError:m,refetch:g,handleClose:(y,P)=>{(P==="backdropClick"||P==="escapeKeyDown")&&(o(!1),n(""))},handlePopularSearchClick:y=>n(y),toggleWishlist:y=>{d(y.id)?a(y.id):i(y)},isInWishlist:d}},ae={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},le={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:_}}},ko=()=>{const{theme:t}=C(),{open:o,query:s,setQuery:n,debouncedQuery:r,filteredProducts:i,isLoading:a,handleClose:d,handlePopularSearchClick:x}=Io();return e.jsx(de,{open:o,onClose:d,fullWidth:!0,maxWidth:"md",PaperProps:{sx:{borderRadius:3,bgcolor:t.primary1,color:t.Text1,p:2,overflow:"hidden"}},children:e.jsxs(he,{sx:{p:2},children:[e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:_},children:e.jsx(jo,{query:s,setQuery:n,isLoading:a})}),!r&&e.jsx(f.div,{variants:ae,initial:"hidden",animate:"visible",children:e.jsx(Co,{onClick:x})}),a||i.length>0?e.jsx(c,{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"1fr 1fr 1fr"},gap:2,mt:2,component:f.div,variants:ae,initial:"hidden",animate:"visible",children:a?Array.from({length:6}).map((h,m)=>e.jsx(f.div,{variants:le,children:e.jsxs(c,{sx:{borderRadius:3,bgcolor:t.primary1,border:`1px solid ${t.borderColor}`,overflow:"hidden",p:2},children:[e.jsx(c,{sx:{width:"100%",height:160,borderRadius:2,bgcolor:t.secound1,mb:1}}),e.jsx(c,{sx:{width:"80%",height:24,bgcolor:t.secound1,mb:1}}),e.jsxs(c,{display:"flex",gap:1,children:[e.jsx(c,{sx:{width:"30%",height:20,bgcolor:t.secound1}}),e.jsx(c,{sx:{width:"40%",height:20,bgcolor:t.secound1}})]})]})},m)):i.map(h=>e.jsx(f.div,{variants:le,children:e.jsx(vo,{product:h})},h.id))}):r&&e.jsx(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,ease:_},children:e.jsxs(b,{textAlign:"center",color:"gray",mt:3,children:['No results found for "',r,'"']})})]})})},Fo=()=>{const{theme:t}=C(),o=D(),s=E(o.breakpoints.down("sm")),[n,r]=l.useState(!1),i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return l.useEffect(()=>{const a=()=>{window.scrollY>400?r(!0):r(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),e.jsx(lt,{in:n,children:e.jsx(ct,{onClick:i,sx:{position:"fixed",bottom:s?70:100,right:s?16:60,width:s?30:46,height:s?30:46,minHeight:"auto",bgcolor:"#f5f5f5",color:t.Text1,"&:hover":{bgcolor:"#e0e0e0",transform:"translateY(-4px)",transition:"all 0.2s ease"},border:"2px solid #ddd",zIndex:2e3,boxShadow:"0 3px 10px rgba(0,0,0,0.15)",transition:"all 0.3s ease"},children:e.jsx(dt,{fontSize:s?"small":"medium",sx:{color:"#555"}})})})};function Po(){const t=W(o=>o.open);return e.jsxs(e.Fragment,{children:[e.jsx(bo,{}),e.jsx(yo,{children:t&&e.jsx(ko,{})}),e.jsx(Fo,{}),e.jsx(ut,{position:"top-right",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})]})}const Ao=new ht;xt.createRoot(document.getElementById("root")).render(e.jsx(X.StrictMode,{children:e.jsx(pt,{client:Ao,children:e.jsxs(vt,{children:[" ",e.jsx(Po,{})]})})}));export{Lt as A,Be as a,j as b,Ce as c,Bo as d,O as e,To as f,Eo as g,S as h,It as i,T as j,kt as l,Bt as t,C as u};
