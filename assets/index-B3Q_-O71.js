import{u as H,a as B,r as C,j as e,B as r,m as d,s as _,T as c,aW as O,aX as X,c as G,a5 as A,H as Z,q as P,aY as q,aZ as Y,a7 as E,y as M,L as F,ac as J,G as T,at as K,a2 as U,a_ as ee}from"./vendor-CdHw5nIJ.js";import{u as j,c as te,b as oe,f as ie,g as se,j as D}from"./index-lTt6Hc_U.js";import{P as ne}from"./index-DP7BM3CW.js";import{E as $}from"./index-BUne5pNC.js";const re=({thumbnails:n,mainImage:o})=>{const{theme:t}=j(),i=H(),s=B(i.breakpoints.down("sm")),l=B(i.breakpoints.between("sm","md")),[h,v]=C.useState(o),w={initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:100}};return e.jsxs(r,{sx:{width:"100%",maxWidth:"100%",height:s?"auto":l?500:600,display:"flex",flexDirection:s?"column":"row",justifyContent:"center",alignItems:"center",bgcolor:t.primary1,borderRadius:2,p:s?2:3,pl:s?0:20,gap:s?2:4,overflow:"hidden"},children:[e.jsx(r,{sx:{display:"flex",flexDirection:s?"row":"column",justifyContent:s?"center":"flex-start",alignItems:"center",gap:2,flexShrink:0,overflowX:s?"auto":"hidden",width:s?"100%":"auto",pb:s?1:0},children:n.map((m,g)=>e.jsx(d.img,{src:m,alt:`thumb-${g}`,onClick:()=>v(m),initial:{opacity:0,x:-50},animate:{opacity:1,x:0,scale:h===m?1.05:1},transition:{duration:.3},style:{width:s?70:120,height:s?70:120,borderRadius:8,background:t.primary1,cursor:"pointer",objectFit:"contain",border:h===m?"2px solid #DB4444":"1px solid transparent"}},g))}),e.jsx(_,{mode:"wait",children:e.jsx(d.div,{variants:w,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.6,ease:"easeOut"},style:{width:s?"100%":l?400:550,height:s?300:l?400:600,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(r,{component:"img",src:h,alt:"product",sx:{width:"100%",height:"100%",objectFit:"contain",borderRadius:2}})},h)})]})},ae=({colors:n,selected:o,onSelect:t})=>{const{theme:i}=j();return e.jsxs(r,{mb:3,display:"flex",alignItems:"center",gap:2,color:i.Text1,children:[e.jsx(c,{fontWeight:500,fontSize:16,children:"Colours:"}),e.jsx(r,{display:"flex",gap:1,children:n.map(s=>{const l=o===s;return e.jsxs(r,{onClick:()=>t(s),sx:{width:24,height:24,borderRadius:"50%",border:l?`3px solid ${i.Text1}`:"2px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{border:`3px solid ${i.Text1}`}},children:[l&&e.jsx(r,{sx:{width:14,height:14,borderRadius:"50%",bgcolor:s}}),!l&&e.jsx(r,{sx:{width:"100%",height:"100%",borderRadius:"50%",bgcolor:s}})]},s)})})]})},le=({sizes:n,selected:o,onSelect:t})=>{const{theme:i}=j();return e.jsxs(r,{mb:3,display:"flex",alignItems:"center",gap:2,color:i.Text1,children:[e.jsx(c,{fontWeight:600,fontSize:16,children:"Size:"}),e.jsx(O,{value:o,exclusive:!0,onChange:(s,l)=>l&&t(l),sx:{gap:1},children:n.map(s=>e.jsx(X,{value:s,sx:{width:40,height:32,fontSize:13,border:"1px solid #ddd",borderRadius:"4px",fontWeight:500,color:i.Text1,"&:hover":{bgcolor:i.Button2,color:"#fff"},"&.Mui-selected":{bgcolor:i.Button2,color:"#fff",border:`1px solid ${i.Button2}`}},children:s},s))})]})},de=({favorite:n,onClick:o})=>{const{theme:t}=j();return e.jsx(G,{onClick:o,sx:{width:40,height:40,border:"1px solid #ddd",color:n?t.Button2:t.borderColor,borderRadius:1},children:n?e.jsx(A,{fontSize:"medium"}):e.jsx(Z,{fontSize:"medium"})})},ce=({quantity:n,onChange:o,isMobile:t})=>{const{theme:i}=j();return e.jsxs(r,{display:"flex",alignItems:"center",gap:.5,children:[e.jsx(P,{onClick:()=>o("dec"),sx:{minWidth:40,height:40,border:"1px solid #ddd",borderRadius:"4px 0 0 4px",color:i.Text1},children:e.jsx(q,{})}),e.jsx(r,{sx:{width:t?40:60,height:40,borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:16},children:n}),e.jsx(P,{onClick:()=>o("inc"),sx:{minWidth:40,height:40,border:"1px solid #ddd",borderRadius:"0 4px 4px 0",color:"white",bgcolor:i.Button2},children:e.jsx(Y,{})})]})},he=({product:n,quantity:o,onQuantityChange:t,favorite:i,onFavoriteToggle:s,isMobile:l})=>{const{theme:h}=j(),v=E(),w=te(x=>x.addToCart),[m,g]=C.useState([]),b=()=>{n&&(w(n,o),M.success(`${n.title} added to cart!`,{className:"toast-success",autoClose:2e3}),v(oe.cart))},S=()=>{if(s(),M.info(i?`${n.title} removed from wishlist!`:`${n.title} added to wishlist!`,{className:"toast-info",autoClose:2e3}),!i){const x=Array.from({length:10}).map(()=>({id:Date.now()+Math.random(),x:Math.random()*100-30,delay:Math.random()*.3}));g(y=>[...y,...x])}};return e.jsxs(r,{display:"flex",alignItems:l?"flex-start":"center",gap:l?.5:2,mb:4,color:h.Text1,width:"100%",position:"relative",children:[e.jsx(ce,{quantity:o,onChange:t,isMobile:l}),e.jsx(P,{variant:"contained",sx:{bgcolor:"#DB4444",px:l?2:5,py:1,borderRadius:1,fontSize:14,"&:hover":{bgcolor:"#c73a3a"}},onClick:b,children:"Buy Now"}),e.jsxs(r,{position:"relative",children:[e.jsx(de,{favorite:i,onClick:S}),e.jsx(_,{children:m.map(x=>e.jsx(d.div,{initial:{opacity:1,scale:1,y:0,x:x.x},animate:{opacity:0,scale:1.5,y:-150},transition:{duration:1.2,ease:"easeOut",delay:x.delay},style:{position:"absolute",bottom:0,left:"50%",pointerEvents:"none"},onAnimationComplete:()=>g(y=>y.filter(u=>u.id!==x.id)),children:e.jsx(A,{sx:{color:h.Button2,fontSize:l?20:28}})},x.id))})]})]})},xe=({deliveryIcon:n,returnIcon:o,isMobile:t})=>e.jsxs(r,{sx:{border:"1px solid #ddd",borderRadius:2,width:t?130:320,height:t?"auto":150,display:"flex",flexDirection:"column",bgcolor:"#fff",overflow:"hidden",mt:2,p:t?1.5:2,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1.5,mb:1.5},children:[e.jsx(r,{component:"img",src:n,alt:"delivery",width:28,height:28}),e.jsxs(r,{display:"flex",flexDirection:"column",children:[e.jsx(c,{fontSize:14,fontWeight:600,color:"black",children:"Free Delivery"}),e.jsx(F,{href:"#",underline:"always",sx:{fontSize:"11px",color:"black",fontWeight:500,transition:"color 0.3s","&:hover":{color:"#DB4444"}},children:"Enter postal code for delivery"})]})]}),e.jsx(r,{sx:{height:"1px",bgcolor:"#eee",my:1}}),e.jsxs(r,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1.5},children:[e.jsx(r,{component:"img",src:o,alt:"return",width:28,height:28}),e.jsxs(r,{display:"flex",flexDirection:"column",children:[e.jsx(c,{fontSize:14,fontWeight:600,color:"black",children:"Return Delivery"}),e.jsxs(c,{fontSize:11,color:"black",children:["Free 30-day returns."," ",e.jsx(F,{href:"#",underline:"always",sx:{color:"black",fontWeight:500,"&:hover":{color:"#DB4444"}},children:"Details"})]})]})]})]}),ue=({product:n,isMobile:o,isTablet:t,quantity:i,size:s,color:l,favorite:h,onQuantityChange:v,onSizeChange:w,onColorChange:m,onFavoriteToggle:g,sizes:b,colors:S,DeliveryIcon:x,ReturnIcon:y})=>{const{theme:u}=j(),k=o||t?"center":"left",I=o||t?"center":"flex-start",p=o||t?"center":"flex-start",R=o?"100%":t?"80%":"100%",W={hidden:{},visible:{transition:{staggerChildren:.15}}},f={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:.5,ease:"easeOut"}}};return e.jsx(d.div,{variants:W,initial:"hidden",animate:"visible",children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:I,justifyContent:p,width:R,mx:t?"auto":0,px:o?2:0},children:[e.jsx(d.div,{variants:f,children:e.jsx(c,{fontSize:o?16:24,fontWeight:550,maxWidth:o?"100%":350,mb:1,textAlign:k,color:u.Text1,children:n.title})}),e.jsx(d.div,{variants:f,children:e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:p,gap:1,mb:2,flexWrap:"wrap",width:"100%",textAlign:k,color:u.Text1,children:[e.jsx(J,{value:n.rating,readOnly:!0,size:o?"small":"medium",sx:{color:"gold","& .MuiRating-iconEmpty":{color:u.Text1+"55"}}}),e.jsxs(c,{fontSize:14,color:u.Text1,children:["(",Math.floor(Math.random()*200+1)," Reviews)"]}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(r,{sx:{width:"1px",height:16,bgcolor:"#ddd",mx:1}}),e.jsx(c,{fontSize:14,sx:{color:u.Button1,fontWeight:500},children:"In Stock"})]})]})}),e.jsx(d.div,{variants:f,children:e.jsxs(c,{fontSize:o?24:28,sx:{fontWeight:500,mb:2,textAlign:k},color:u.Text1,children:["$",n.price]})}),e.jsx(d.div,{variants:f,children:e.jsx(c,{fontSize:o?12:14,color:u.Text1,mb:2,maxWidth:o||t?"100%":300,textAlign:k,children:n.description||"No description available."})}),e.jsx(d.div,{variants:f,children:e.jsx(r,{sx:{width:"100%",borderBottom:"1px solid #000",mb:3}})}),e.jsx(d.div,{variants:f,children:e.jsx(r,{sx:{display:"flex",justifyContent:p,width:"100%"},children:e.jsx(ae,{colors:S,selected:l,onSelect:m})})}),e.jsx(d.div,{variants:f,children:e.jsx(r,{sx:{display:"flex",justifyContent:p,width:"100%"},children:e.jsx(le,{sizes:b,selected:s,onSelect:w})})}),e.jsx(d.div,{variants:f,children:e.jsx(r,{sx:{display:"flex",justifyContent:p,width:"100%"},children:e.jsx(he,{product:n,quantity:i,onQuantityChange:v,favorite:h,onFavoriteToggle:g,isMobile:o})})}),e.jsx(d.div,{variants:f,children:e.jsx(r,{sx:{display:"flex",justifyContent:p,width:"100%"},children:e.jsx(xe,{deliveryIcon:x,returnIcon:y,isMobile:o})})})]})})},me={hidden:{},visible:{transition:{staggerChildren:.15}}},pe={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},ge=({items:n})=>{const{theme:o}=j(),t=H(),i=B(t.breakpoints.down("sm"));return e.jsxs(r,{mt:10,pl:i?0:18,children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:2,mb:2,sx:{flexWrap:"wrap"},children:[e.jsx(r,{sx:{minWidth:20,width:{xs:15,sm:20},height:{xs:30,sm:40},bgcolor:o.Button2||"#DB4444",borderRadius:1,flexShrink:0}}),e.jsx(c,{variant:"h6",sx:{fontWeight:700,color:o.Button2||"#DB4444",fontSize:i?13:18},children:"Related Items"})]}),e.jsx(d.div,{variants:me,initial:"hidden",animate:"visible",children:e.jsx(T,{container:!0,spacing:3,justifyContent:i?"center":"flex-start",children:n.map(s=>e.jsx(T,{children:e.jsx(d.div,{variants:pe,children:e.jsx(ne,{...s})})},s.id))})})]})},fe=({productTitle:n,categoryName:o})=>{const{theme:t}=j(),i=E();return e.jsxs(K,{separator:"/",sx:{color:t.Text1,fontSize:14,mb:4,overflowX:"auto",pl:{xs:0,md:2},"& a, & span":{whiteSpace:"nowrap",cursor:"pointer"}},children:[e.jsx(c,{sx:{fontSize:16,color:t.disabledText,"&:hover":{textDecoration:"underline"}},onClick:()=>i("/"),children:"Home"}),o&&e.jsx(c,{sx:{fontSize:16,color:t.disabledText,"&:hover":{textDecoration:"underline"}},onClick:()=>i(`/products?categorySlug=${o.toLowerCase()}`),children:o}),e.jsx(c,{color:t.Text1,fontSize:14,children:n})]})},L=({title:n="Loading...",description:o="Please wait a moment while we fetch the data.",height:t="60vh"})=>{const{theme:i}=j();return e.jsxs(r,{sx:{height:t,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",bgcolor:i.primary1,color:i.Text1,textAlign:"center",px:2},children:[e.jsx(U,{size:60,sx:{color:i.Button2,mb:3}}),e.jsx(c,{variant:"h6",sx:{mb:1},children:n}),o&&e.jsx(c,{variant:"body2",sx:{color:i.Text2},children:o})]})},je="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_261_4843)'%3e%3cpath%20d='M11.6673%2031.6667C13.5083%2031.6667%2015.0007%2030.1743%2015.0007%2028.3333C15.0007%2026.4924%2013.5083%2025%2011.6673%2025C9.82637%2025%208.33398%2026.4924%208.33398%2028.3333C8.33398%2030.1743%209.82637%2031.6667%2011.6673%2031.6667Z'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28.3333%2031.6667C30.1743%2031.6667%2031.6667%2030.1743%2031.6667%2028.3333C31.6667%2026.4924%2030.1743%2025%2028.3333%2025C26.4924%2025%2025%2026.4924%2025%2028.3333C25%2030.1743%2026.4924%2031.6667%2028.3333%2031.6667Z'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.33398%2028.3335H7.00065C5.89608%2028.3335%205.00065%2027.4381%205.00065%2026.3335V21.6668M3.33398%208.3335H19.6673C20.7719%208.3335%2021.6673%209.22893%2021.6673%2010.3335V28.3335M15.0007%2028.3335H25.0007M31.6673%2028.3335H33.0007C34.1052%2028.3335%2035.0007%2027.4381%2035.0007%2026.3335V18.3335M35.0007%2018.3335H21.6673M35.0007%2018.3335L30.5833%2010.9712C30.2218%2010.3688%2029.5708%2010.0002%2028.8683%2010.0002H21.6673'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2028H6.66667C5.5621%2028%204.66667%2027.1046%204.66667%2026V21.3333M3%208H19.3333C20.4379%208%2021.3333%208.89543%2021.3333%2010V28M15%2028H24.6667M32%2028H32.6667C33.7712%2028%2034.6667%2027.1046%2034.6667%2026V18M34.6667%2018H21.3333M34.6667%2018L30.2493%2010.6377C29.8878%2010.0353%2029.2368%209.66667%2028.5343%209.66667H21.3333'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%2011.8182H11.6667'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.81836%2015.4545H8.48503'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%2019.0909H11.6667'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_261_4843'%3e%3crect%20width='40'%20height='40'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ye="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_261_4865)'%3e%3cpath%20d='M33.3327%2018.3334C32.9251%2015.4004%2031.5645%2012.6828%2029.4604%2010.5992C27.3564%208.51557%2024.6256%207.18155%2021.6888%206.80261C18.752%206.42366%2015.7721%207.02082%2013.208%208.5021C10.644%209.98337%208.6381%2012.2666%207.49935%2015M6.66602%208.33335V15H13.3327'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66602%2021.6667C7.07361%2024.5997%208.43423%2027.3173%2010.5383%2029.4009C12.6423%2031.4845%2015.3731%2032.8185%2018.3099%2033.1974C21.2467%2033.5764%2024.2266%2032.9792%2026.7907%2031.4979C29.3547%2030.0167%2031.3606%2027.7335%2032.4994%2025M33.3327%2031.6667V25H26.666'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_261_4865'%3e%3crect%20width='40'%20height='40'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",V=(n=3)=>{const o=[];for(let t=0;t<n;t++){const i="#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0");o.push(i)}return o},ve=()=>{const{id:n}=ee(),o=n?Number(n):void 0,{data:t,isLoading:i}=ie(o),{data:s=[],isLoading:l}=se(o,4),[h,v]=C.useState(1),[w,m]=C.useState("M"),[g,b]=C.useState("#fff"),[S,x]=C.useState([]),[y,u]=C.useState(!1),k=D(a=>a.addToWishlist),I=D(a=>a.removeFromWishlist),p=D(a=>a.isInWishlist);C.useEffect(()=>{if(t){u(p(t.id));let a=[];t.colors&&(a=Array.isArray(t.colors)?t.colors:[t.colors]),a.length===0&&(a=V(3)),x(a),b(a[0])}},[t,p]);const R=()=>{t&&(y?I(t.id):k(t),u(a=>!a))},W=a=>v(z=>a==="inc"?z+1:Math.max(z-1,1)),f=t?.images.length?t.images:["/bag.png"],Q=["XS","S","M","L","XL"],N=s.map(a=>{const z=a.colors&&a.colors.length>0?a.colors:V(3);return{id:a.id,name:a.title,price:`$${a.price}`,oldPrice:a.price?`$${Math.floor(a.price*1.2)}`:void 0,discount:a.discount,rating:a.rating??0,img:a.images[0]||"/bag.png",colors:z}});return{product:t,loadingProduct:i,relatedItems:N,loadingRelated:l,quantity:h,size:w,color:g,colors:S,favorite:y,handleFavoriteToggle:R,handleQuantity:W,setSize:m,setColor:b,sizes:Q,thumbnails:f}},Se=()=>{const{theme:n}=j(),o=H(),t=B(o.breakpoints.down("sm")),i=B(o.breakpoints.between("sm","md")),{product:s,loadingProduct:l,relatedItems:h,loadingRelated:v,quantity:w,size:m,color:g,colors:b,favorite:S,handleFavoriteToggle:x,handleQuantity:y,setSize:u,setColor:k,sizes:I,thumbnails:p}=ve();return l?e.jsx(L,{title:"Loading product...",description:"Please wait while we fetch the product details."}):s?e.jsx(r,{sx:{px:{xs:2,md:4},py:6,bgcolor:n.primary1,display:"flex",justifyContent:"center",width:"100%"},children:e.jsxs(r,{sx:{width:"100%"},children:[e.jsx(fe,{productTitle:s.title,categoryName:s.category?.name}),e.jsxs(T,{container:!0,spacing:4,alignItems:"flex-start",sx:{flexDirection:{xs:"column",md:"row"}},children:[e.jsx(T,{children:e.jsx(re,{thumbnails:p,mainImage:p[0]})}),e.jsx(T,{children:e.jsx(ue,{product:s,isMobile:t,isTablet:i,quantity:w,size:m,color:g,favorite:S,onQuantityChange:y,onSizeChange:u,onColorChange:k,onFavoriteToggle:x,sizes:I,colors:b,DeliveryIcon:je,ReturnIcon:ye})})]}),e.jsx(r,{mt:8,children:v?e.jsx(L,{title:"Loading related items...",description:"Fetching items you may like.",height:200}):h.length?e.jsx(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:e.jsx(ge,{items:h})}):e.jsx($,{title:"No related items found",description:"There are no similar products at the moment."})})]})}):e.jsx($,{title:"Product not found",description:"The product you are looking for does not exist.",onRetry:()=>window.location.reload()})};export{Se as default};
