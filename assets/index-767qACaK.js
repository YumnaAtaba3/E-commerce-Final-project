import{u as g,r as I,j as t,A as c,m as i,o as f,ai as k,c as h,I as L,aj as P,q as z,a as E,g as W,h as $,ak as A,y as p,L as H,b as q,d as R,B as D,T as y}from"./index-blSJw7uD.js";import{o as N,c as V,u as O}from"./close-eye-CohR7xJs.js";import{c as Q,a as b,u as U,o as Z}from"./index.esm-WLuaPzrZ.js";const _=c(h)(()=>({display:"flex",flexDirection:"column",gap:24})),G=c(L)(()=>({padding:0,transition:"all 0.3s ease","& img":{width:26,height:20,transition:"transform 0.3s ease"},"&:hover img":{transform:"scale(1.1)"}})),J=({inputFont:n,labelFont:d,register:o,errors:s})=>{const{theme:e}=g(),[r,m]=I.useState(!1),u={hidden:{opacity:0,x:-20},visible:l=>({opacity:1,x:0,transition:{delay:l*.1}})};return t.jsxs(_,{children:[t.jsx(i.div,{custom:0,initial:"hidden",animate:"visible",variants:u,children:t.jsx(f,{autoComplete:"username",label:"Email or Phone Number",variant:"standard",fullWidth:!0,type:"text",...o("email"),error:!!s.email,helperText:s.email?.message,InputLabelProps:{sx:{fontSize:d,fontFamily:"'Inter', sans-serif",color:e.disabledText,"&.Mui-focused":{color:e.Text1}}},inputProps:{style:{fontSize:n,fontFamily:"'Inter', sans-serif",color:e.Text1}},sx:{"& .MuiFormHelperText-root":{color:e.Button2,fontSize:10},"& .MuiInput-underline:before":{borderBottomColor:e.disabledText},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:e.Text1},"& .MuiInput-underline:after":{borderBottomColor:e.Text1},"& input:-webkit-autofill":{WebkitBoxShadow:`0 0 0 1000px ${e.primary1} inset`,WebkitTextFillColor:e.Text1,transition:"background-color 5000s ease-in-out 0s"}}})}),t.jsx(i.div,{custom:1,initial:"hidden",animate:"visible",variants:u,children:t.jsx(f,{autoComplete:"new-password",label:"Password",variant:"standard",fullWidth:!0,type:r?"text":"password",...o("password"),error:!!s.password,helperText:s.password?.message,InputProps:{endAdornment:t.jsx(k,{position:"end",children:t.jsx(G,{onClick:()=>m(l=>!l),children:t.jsx("img",{src:r?N:V,alt:"toggle visibility"})})})},InputLabelProps:{sx:{fontSize:d,fontFamily:"'Inter', sans-serif",color:e.disabledText,"&.Mui-focused":{color:e.Text1}}},inputProps:{style:{fontSize:n,fontFamily:"'Inter', sans-serif",color:e.Text1}},sx:{"& .MuiFormHelperText-root":{color:e.Button2,fontSize:10},"& .MuiInput-underline:before":{borderBottomColor:e.disabledText},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:e.Text1},"& .MuiInput-underline:after":{borderBottomColor:e.Text1},"& input:-webkit-autofill":{WebkitBoxShadow:`0 0 0 1000px ${e.primary1} inset`,WebkitTextFillColor:e.Text1,transition:"background-color 5000s ease-in-out 0s"}}})})]})},K=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,X=/^[0-9]{10,15}$/,Y=/^[A-Za-z0-9]+$/,ee=Q().shape({email:b().trim().required("Email or phone number is required").test("is-valid-contact","Enter a valid email or phone number",n=>n?K.test(n)||X.test(n):!1),password:b().required("Password is required").matches(Y,"Password must contain only letters and numbers").min(8,"Password must be at least 8 characters long")});function te(){return O({mutationFn:async n=>await P.login(n)})}const oe=c(h)({maxWidth:370,width:"100%"}),ne=c(y)({fontFamily:"'Inter', sans-serif",fontWeight:600}),ie=c(y)({fontFamily:"'Inter', sans-serif",fontWeight:400,marginBottom:"32px"}),se=i(oe),ae=i(ne),re=i(ie),le=i.div,ce=i(D),xe=()=>{const{theme:n}=g(),d=z(),o=E(d.breakpoints.down("sm")),s=W(),r=$().state,{register:m,handleSubmit:u,formState:{errors:l}}=U({resolver:Z(ee),defaultValues:{email:r?.email||"",password:r?.password||""}}),{mutateAsync:w,isPending:T}=te(),v=u(async x=>{try{const a=await w(x);A.set(a.access_token),p.success("Login successful!",{autoClose:1e3}),s(-2)}catch(a){console.error("Login error:",a),p.error(a.message||"Login failed. Please try again.",{autoClose:1500})}}),F=o?"24px":"32px",S=o?"14px":"16px",j=o?"14px":"16px",M=o?"12px":"14px",B=o?"14px":"16px",C=o?"12px":"14px";return t.jsxs(se,{sx:{mx:o?5:0},initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut"},children:[t.jsx(ae,{sx:{fontSize:F,color:n.Text1},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:"Log in to Exclusive"}),t.jsx(re,{sx:{fontSize:S,color:n.Text1},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:"Enter your details below"}),t.jsxs("form",{onSubmit:x=>{x.preventDefault(),v().catch(a=>{console.error(a),p.error("Unexpected error occurred")})},children:[t.jsx(le,{initial:"hidden",animate:"visible",children:t.jsx(J,{register:m,errors:l,inputFont:j,labelFont:M})}),t.jsxs(h,{sx:{mt:4,display:"flex",flexDirection:o?"column":"row",alignItems:o?"stretch":"center",justifyContent:"space-between",gap:o?2:0},children:[t.jsx(ce,{type:"submit",fullWidth:o,variant:"contained",whileHover:{scale:1.05},whileTap:{scale:.95},sx:{fontSize:B,backgroundColor:n.Button2,color:"white","&:hover":{backgroundColor:n.Button2},px:5},children:T?"Loading...":"Log In"}),t.jsx(H,{component:R,to:q.home,underline:"hover",sx:{fontSize:C,color:n.Button2,textAlign:o?"center":"left",mt:o?1:0},children:"Forgot Password?"})]})]})]})};export{xe as default};
